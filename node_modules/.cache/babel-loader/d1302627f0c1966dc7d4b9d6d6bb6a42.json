{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.click = click;\nexports.dblClick = dblClick;\n\nvar _dom = require(\"@testing-library/dom\");\n\nvar _utils = require(\"./utils\");\n\nvar _hover = require(\"./hover\");\n\nvar _blur = require(\"./blur\");\n\nvar _focus = require(\"./focus\");\n\nfunction getPreviouslyFocusedElement(element) {\n  const focusedElement = element.ownerDocument.activeElement;\n  const wasAnotherElementFocused = focusedElement && focusedElement !== element.ownerDocument.body && focusedElement !== element;\n  return wasAnotherElementFocused ? focusedElement : null;\n}\n\nfunction clickLabel(label, init, {\n  clickCount\n}) {\n  if ((0, _utils.isLabelWithInternallyDisabledControl)(label)) return;\n\n  _dom.fireEvent.pointerDown(label, init);\n\n  _dom.fireEvent.mouseDown(label, (0, _utils.getMouseEventOptions)('mousedown', init, clickCount));\n\n  _dom.fireEvent.pointerUp(label, init);\n\n  _dom.fireEvent.mouseUp(label, (0, _utils.getMouseEventOptions)('mouseup', init, clickCount));\n\n  _dom.fireEvent.click(label, (0, _utils.getMouseEventOptions)('click', init, clickCount)); // clicking the label will trigger a click of the label.control\n  // however, it will not focus the label.control so we have to do it\n  // ourselves.\n\n\n  if (label.control) (0, _focus.focus)(label.control);\n}\n\nfunction clickBooleanElement(element, init, clickCount) {\n  _dom.fireEvent.pointerDown(element, init);\n\n  if (!element.disabled) {\n    _dom.fireEvent.mouseDown(element, (0, _utils.getMouseEventOptions)('mousedown', init, clickCount));\n  }\n\n  (0, _focus.focus)(element, init);\n\n  _dom.fireEvent.pointerUp(element, init);\n\n  if (!element.disabled) {\n    _dom.fireEvent.mouseUp(element, (0, _utils.getMouseEventOptions)('mouseup', init, clickCount));\n\n    _dom.fireEvent.click(element, (0, _utils.getMouseEventOptions)('click', init, clickCount));\n  }\n}\n\nfunction clickElement(element, init, {\n  clickCount\n}) {\n  const previousElement = getPreviouslyFocusedElement(element);\n\n  _dom.fireEvent.pointerDown(element, init);\n\n  if (!element.disabled) {\n    const continueDefaultHandling = _dom.fireEvent.mouseDown(element, (0, _utils.getMouseEventOptions)('mousedown', init, clickCount));\n\n    if (continueDefaultHandling) {\n      const closestFocusable = findClosest(element, _utils.isFocusable);\n\n      if (previousElement && !closestFocusable) {\n        (0, _blur.blur)(previousElement, init);\n      } else if (closestFocusable) {\n        (0, _focus.focus)(closestFocusable, init);\n      }\n    }\n  }\n\n  _dom.fireEvent.pointerUp(element, init);\n\n  if (!element.disabled) {\n    _dom.fireEvent.mouseUp(element, (0, _utils.getMouseEventOptions)('mouseup', init, clickCount));\n\n    _dom.fireEvent.click(element, (0, _utils.getMouseEventOptions)('click', init, clickCount));\n\n    const parentLabel = element.closest('label');\n    if (parentLabel != null && parentLabel.control) (0, _focus.focus)(parentLabel.control, init);\n  }\n}\n\nfunction findClosest(el, callback) {\n  do {\n    if (callback(el)) {\n      return el;\n    }\n\n    el = el.parentElement;\n  } while (el && el !== document.body);\n\n  return undefined;\n}\n\nfunction click(element, init, {\n  skipHover = false,\n  clickCount = 0\n} = {}) {\n  if (!skipHover) (0, _hover.hover)(element, init);\n\n  switch (element.tagName) {\n    case 'LABEL':\n      clickLabel(element, init, {\n        clickCount\n      });\n      break;\n\n    case 'INPUT':\n      if (element.type === 'checkbox' || element.type === 'radio') {\n        clickBooleanElement(element, init, {\n          clickCount\n        });\n      } else {\n        clickElement(element, init, {\n          clickCount\n        });\n      }\n\n      break;\n\n    default:\n      clickElement(element, init, {\n        clickCount\n      });\n  }\n}\n\nfunction dblClick(element, init) {\n  (0, _hover.hover)(element, init);\n  click(element, init, {\n    skipHover: true,\n    clickCount: 0\n  });\n  click(element, init, {\n    skipHover: true,\n    clickCount: 1\n  });\n\n  _dom.fireEvent.dblClick(element, (0, _utils.getMouseEventOptions)('dblclick', init, 2));\n}","map":{"version":3,"sources":["/Users/hamzakhan/Documents/twitter-react/twitter/node_modules/@testing-library/user-event/dist/click.js"],"names":["Object","defineProperty","exports","value","click","dblClick","_dom","require","_utils","_hover","_blur","_focus","getPreviouslyFocusedElement","element","focusedElement","ownerDocument","activeElement","wasAnotherElementFocused","body","clickLabel","label","init","clickCount","isLabelWithInternallyDisabledControl","fireEvent","pointerDown","mouseDown","getMouseEventOptions","pointerUp","mouseUp","control","focus","clickBooleanElement","disabled","clickElement","previousElement","continueDefaultHandling","closestFocusable","findClosest","isFocusable","blur","parentLabel","closest","el","callback","parentElement","document","undefined","skipHover","hover","tagName","type"],"mappings":"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","sourcesContent":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.click = click;\nexports.dblClick = dblClick;\n\nvar _dom = require(\"@testing-library/dom\");\n\nvar _utils = require(\"./utils\");\n\nvar _hover = require(\"./hover\");\n\nvar _blur = require(\"./blur\");\n\nvar _focus = require(\"./focus\");\n\nfunction getPreviouslyFocusedElement(element) {\n  const focusedElement = element.ownerDocument.activeElement;\n  const wasAnotherElementFocused = focusedElement && focusedElement !== element.ownerDocument.body && focusedElement !== element;\n  return wasAnotherElementFocused ? focusedElement : null;\n}\n\nfunction clickLabel(label, init, {\n  clickCount\n}) {\n  if ((0, _utils.isLabelWithInternallyDisabledControl)(label)) return;\n\n  _dom.fireEvent.pointerDown(label, init);\n\n  _dom.fireEvent.mouseDown(label, (0, _utils.getMouseEventOptions)('mousedown', init, clickCount));\n\n  _dom.fireEvent.pointerUp(label, init);\n\n  _dom.fireEvent.mouseUp(label, (0, _utils.getMouseEventOptions)('mouseup', init, clickCount));\n\n  _dom.fireEvent.click(label, (0, _utils.getMouseEventOptions)('click', init, clickCount)); // clicking the label will trigger a click of the label.control\n  // however, it will not focus the label.control so we have to do it\n  // ourselves.\n\n\n  if (label.control) (0, _focus.focus)(label.control);\n}\n\nfunction clickBooleanElement(element, init, clickCount) {\n  _dom.fireEvent.pointerDown(element, init);\n\n  if (!element.disabled) {\n    _dom.fireEvent.mouseDown(element, (0, _utils.getMouseEventOptions)('mousedown', init, clickCount));\n  }\n\n  (0, _focus.focus)(element, init);\n\n  _dom.fireEvent.pointerUp(element, init);\n\n  if (!element.disabled) {\n    _dom.fireEvent.mouseUp(element, (0, _utils.getMouseEventOptions)('mouseup', init, clickCount));\n\n    _dom.fireEvent.click(element, (0, _utils.getMouseEventOptions)('click', init, clickCount));\n  }\n}\n\nfunction clickElement(element, init, {\n  clickCount\n}) {\n  const previousElement = getPreviouslyFocusedElement(element);\n\n  _dom.fireEvent.pointerDown(element, init);\n\n  if (!element.disabled) {\n    const continueDefaultHandling = _dom.fireEvent.mouseDown(element, (0, _utils.getMouseEventOptions)('mousedown', init, clickCount));\n\n    if (continueDefaultHandling) {\n      const closestFocusable = findClosest(element, _utils.isFocusable);\n\n      if (previousElement && !closestFocusable) {\n        (0, _blur.blur)(previousElement, init);\n      } else if (closestFocusable) {\n        (0, _focus.focus)(closestFocusable, init);\n      }\n    }\n  }\n\n  _dom.fireEvent.pointerUp(element, init);\n\n  if (!element.disabled) {\n    _dom.fireEvent.mouseUp(element, (0, _utils.getMouseEventOptions)('mouseup', init, clickCount));\n\n    _dom.fireEvent.click(element, (0, _utils.getMouseEventOptions)('click', init, clickCount));\n\n    const parentLabel = element.closest('label');\n    if (parentLabel != null && parentLabel.control) (0, _focus.focus)(parentLabel.control, init);\n  }\n}\n\nfunction findClosest(el, callback) {\n  do {\n    if (callback(el)) {\n      return el;\n    }\n\n    el = el.parentElement;\n  } while (el && el !== document.body);\n\n  return undefined;\n}\n\nfunction click(element, init, {\n  skipHover = false,\n  clickCount = 0\n} = {}) {\n  if (!skipHover) (0, _hover.hover)(element, init);\n\n  switch (element.tagName) {\n    case 'LABEL':\n      clickLabel(element, init, {\n        clickCount\n      });\n      break;\n\n    case 'INPUT':\n      if (element.type === 'checkbox' || element.type === 'radio') {\n        clickBooleanElement(element, init, {\n          clickCount\n        });\n      } else {\n        clickElement(element, init, {\n          clickCount\n        });\n      }\n\n      break;\n\n    default:\n      clickElement(element, init, {\n        clickCount\n      });\n  }\n}\n\nfunction dblClick(element, init) {\n  (0, _hover.hover)(element, init);\n  click(element, init, {\n    skipHover: true,\n    clickCount: 0\n  });\n  click(element, init, {\n    skipHover: true,\n    clickCount: 1\n  });\n\n  _dom.fireEvent.dblClick(element, (0, _utils.getMouseEventOptions)('dblclick', init, 2));\n}"]},"metadata":{},"sourceType":"script"}