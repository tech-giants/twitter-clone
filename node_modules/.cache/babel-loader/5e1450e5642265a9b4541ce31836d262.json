{"ast":null,"code":"/*\n\tMIT License http://www.opensource.org/licenses/mit-license.php\n\tAuthor Tobias Koppers @sokra\n*/\n\"use strict\";\n\nconst {\n  ConcatSource,\n  OriginalSource,\n  PrefixSource,\n  RawSource\n} = require(\"webpack-sources\");\n\nconst {\n  Tapable,\n  SyncWaterfallHook,\n  SyncHook,\n  SyncBailHook\n} = require(\"tapable\");\n\nconst Template = require(\"./Template\");\n/** @typedef {import(\"webpack-sources\").ConcatSource} ConcatSource */\n\n/** @typedef {import(\"webpack-sources\").Source} Source */\n\n/** @typedef {import(\"./ModuleTemplate\")} ModuleTemplate */\n\n/** @typedef {import(\"./Chunk\")} Chunk */\n\n/** @typedef {import(\"./Module\")} Module} */\n\n/** @typedef {import(\"./util/createHash\").Hash} Hash} */\n\n/** @typedef {import(\"./Dependency\").DependencyTemplate} DependencyTemplate} */\n\n/**\n * @typedef {Object} RenderManifestOptions\n * @property {Chunk} chunk the chunk used to render\n * @property {string} hash\n * @property {string} fullHash\n * @property {TODO} outputOptions\n * @property {{javascript: ModuleTemplate, webassembly: ModuleTemplate}} moduleTemplates\n * @property {Map<TODO, TODO>} dependencyTemplates\n */\n// require function shortcuts:\n// __webpack_require__.s = the module id of the entry point\n// __webpack_require__.c = the module cache\n// __webpack_require__.m = the module functions\n// __webpack_require__.p = the bundle public path\n// __webpack_require__.i = the identity function used for harmony imports\n// __webpack_require__.e = the chunk ensure function\n// __webpack_require__.d = the exported property define getter function\n// __webpack_require__.o = Object.prototype.hasOwnProperty.call\n// __webpack_require__.r = define compatibility on export\n// __webpack_require__.t = create a fake namespace object\n// __webpack_require__.n = compatibility get default export\n// __webpack_require__.h = the webpack hash\n// __webpack_require__.w = an object containing all installed WebAssembly.Instance export objects keyed by module id\n// __webpack_require__.oe = the uncaught error handler for the webpack runtime\n// __webpack_require__.nc = the script nonce\n\n\nmodule.exports = class MainTemplate extends Tapable {\n  /**\n   *\n   * @param {TODO=} outputOptions output options for the MainTemplate\n   */\n  constructor(outputOptions) {\n    super();\n    /** @type {TODO?} */\n\n    this.outputOptions = outputOptions || {};\n    this.hooks = {\n      /** @type {SyncWaterfallHook<TODO[], RenderManifestOptions>} */\n      renderManifest: new SyncWaterfallHook([\"result\", \"options\"]),\n      modules: new SyncWaterfallHook([\"modules\", \"chunk\", \"hash\", \"moduleTemplate\", \"dependencyTemplates\"]),\n      moduleObj: new SyncWaterfallHook([\"source\", \"chunk\", \"hash\", \"moduleIdExpression\"]),\n      requireEnsure: new SyncWaterfallHook([\"source\", \"chunk\", \"hash\", \"chunkIdExpression\"]),\n      bootstrap: new SyncWaterfallHook([\"source\", \"chunk\", \"hash\", \"moduleTemplate\", \"dependencyTemplates\"]),\n      localVars: new SyncWaterfallHook([\"source\", \"chunk\", \"hash\"]),\n      require: new SyncWaterfallHook([\"source\", \"chunk\", \"hash\"]),\n      requireExtensions: new SyncWaterfallHook([\"source\", \"chunk\", \"hash\"]),\n\n      /** @type {SyncWaterfallHook<string, Chunk, string>} */\n      beforeStartup: new SyncWaterfallHook([\"source\", \"chunk\", \"hash\"]),\n\n      /** @type {SyncWaterfallHook<string, Chunk, string>} */\n      startup: new SyncWaterfallHook([\"source\", \"chunk\", \"hash\"]),\n\n      /** @type {SyncWaterfallHook<string, Chunk, string>} */\n      afterStartup: new SyncWaterfallHook([\"source\", \"chunk\", \"hash\"]),\n      render: new SyncWaterfallHook([\"source\", \"chunk\", \"hash\", \"moduleTemplate\", \"dependencyTemplates\"]),\n      renderWithEntry: new SyncWaterfallHook([\"source\", \"chunk\", \"hash\"]),\n      moduleRequire: new SyncWaterfallHook([\"source\", \"chunk\", \"hash\", \"moduleIdExpression\"]),\n      addModule: new SyncWaterfallHook([\"source\", \"chunk\", \"hash\", \"moduleIdExpression\", \"moduleExpression\"]),\n      currentHash: new SyncWaterfallHook([\"source\", \"requestedLength\"]),\n      assetPath: new SyncWaterfallHook([\"path\", \"options\", \"assetInfo\"]),\n      hash: new SyncHook([\"hash\"]),\n      hashForChunk: new SyncHook([\"hash\", \"chunk\"]),\n      globalHashPaths: new SyncWaterfallHook([\"paths\"]),\n      globalHash: new SyncBailHook([\"chunk\", \"paths\"]),\n      // TODO this should be moved somewhere else\n      // It's weird here\n      hotBootstrap: new SyncWaterfallHook([\"source\", \"chunk\", \"hash\"])\n    };\n    this.hooks.startup.tap(\"MainTemplate\", (source, chunk, hash) => {\n      /** @type {string[]} */\n      const buf = [];\n\n      if (chunk.entryModule) {\n        buf.push(\"// Load entry module and return exports\");\n        buf.push(`return ${this.renderRequireFunctionForModule(hash, chunk, JSON.stringify(chunk.entryModule.id))}(${this.requireFn}.s = ${JSON.stringify(chunk.entryModule.id)});`);\n      }\n\n      return Template.asString(buf);\n    });\n    this.hooks.render.tap(\"MainTemplate\", (bootstrapSource, chunk, hash, moduleTemplate, dependencyTemplates) => {\n      const source = new ConcatSource();\n      source.add(\"/******/ (function(modules) { // webpackBootstrap\\n\");\n      source.add(new PrefixSource(\"/******/\", bootstrapSource));\n      source.add(\"/******/ })\\n\");\n      source.add(\"/************************************************************************/\\n\");\n      source.add(\"/******/ (\");\n      source.add(this.hooks.modules.call(new RawSource(\"\"), chunk, hash, moduleTemplate, dependencyTemplates));\n      source.add(\")\");\n      return source;\n    });\n    this.hooks.localVars.tap(\"MainTemplate\", (source, chunk, hash) => {\n      return Template.asString([source, \"// The module cache\", \"var installedModules = {};\"]);\n    });\n\n    this.hooks.require.tap(\"MainTemplate\", (source, chunk, hash) => {\n      return Template.asString([source, \"// Check if module is in cache\", \"if(installedModules[moduleId]) {\", Template.indent(\"return installedModules[moduleId].exports;\"), \"}\", \"// Create a new module (and put it into the cache)\", \"var module = installedModules[moduleId] = {\", Template.indent(this.hooks.moduleObj.call(\"\", chunk, hash, \"moduleId\")), \"};\", \"\", Template.asString(outputOptions.strictModuleExceptionHandling ? [\"// Execute the module function\", \"var threw = true;\", \"try {\", Template.indent([`modules[moduleId].call(module.exports, module, module.exports, ${this.renderRequireFunctionForModule(hash, chunk, \"moduleId\")});`, \"threw = false;\"]), \"} finally {\", Template.indent([\"if(threw) delete installedModules[moduleId];\"]), \"}\"] : [\"// Execute the module function\", `modules[moduleId].call(module.exports, module, module.exports, ${this.renderRequireFunctionForModule(hash, chunk, \"moduleId\")});`]), \"\", \"// Flag the module as loaded\", \"module.l = true;\", \"\", \"// Return the exports of the module\", \"return module.exports;\"]);\n    });\n\n    this.hooks.moduleObj.tap(\"MainTemplate\", (source, chunk, hash, varModuleId) => {\n      return Template.asString([\"i: moduleId,\", \"l: false,\", \"exports: {}\"]);\n    });\n    this.hooks.requireExtensions.tap(\"MainTemplate\", (source, chunk, hash) => {\n      const buf = [];\n      const chunkMaps = chunk.getChunkMaps(); // Check if there are non initial chunks which need to be imported using require-ensure\n\n      if (Object.keys(chunkMaps.hash).length) {\n        buf.push(\"// This file contains only the entry chunk.\");\n        buf.push(\"// The chunk loading function for additional chunks\");\n        buf.push(`${this.requireFn}.e = function requireEnsure(chunkId) {`);\n        buf.push(Template.indent(\"var promises = [];\"));\n        buf.push(Template.indent(this.hooks.requireEnsure.call(\"\", chunk, hash, \"chunkId\")));\n        buf.push(Template.indent(\"return Promise.all(promises);\"));\n        buf.push(\"};\");\n      } else if (chunk.hasModuleInGraph(m => m.blocks.some(b => b.chunkGroup && b.chunkGroup.chunks.length > 0))) {\n        // There async blocks in the graph, so we need to add an empty requireEnsure\n        // function anyway. This can happen with multiple entrypoints.\n        buf.push(\"// The chunk loading function for additional chunks\");\n        buf.push(\"// Since all referenced chunks are already included\");\n        buf.push(\"// in this file, this function is empty here.\");\n        buf.push(`${this.requireFn}.e = function requireEnsure() {`);\n        buf.push(Template.indent(\"return Promise.resolve();\"));\n        buf.push(\"};\");\n      }\n\n      buf.push(\"\");\n      buf.push(\"// expose the modules object (__webpack_modules__)\");\n      buf.push(`${this.requireFn}.m = modules;`);\n      buf.push(\"\");\n      buf.push(\"// expose the module cache\");\n      buf.push(`${this.requireFn}.c = installedModules;`);\n      buf.push(\"\");\n      buf.push(\"// define getter function for harmony exports\");\n      buf.push(`${this.requireFn}.d = function(exports, name, getter) {`);\n      buf.push(Template.indent([`if(!${this.requireFn}.o(exports, name)) {`, Template.indent([\"Object.defineProperty(exports, name, { enumerable: true, get: getter });\"]), \"}\"]));\n      buf.push(\"};\");\n      buf.push(\"\");\n      buf.push(\"// define __esModule on exports\");\n      buf.push(`${this.requireFn}.r = function(exports) {`);\n      buf.push(Template.indent([\"if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\", Template.indent([\"Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\"]), \"}\", \"Object.defineProperty(exports, '__esModule', { value: true });\"]));\n      buf.push(\"};\");\n      buf.push(\"\");\n      buf.push(\"// create a fake namespace object\");\n      buf.push(\"// mode & 1: value is a module id, require it\");\n      buf.push(\"// mode & 2: merge all properties of value into the ns\");\n      buf.push(\"// mode & 4: return value when already ns object\");\n      buf.push(\"// mode & 8|1: behave like require\");\n      buf.push(`${this.requireFn}.t = function(value, mode) {`);\n      buf.push(Template.indent([`if(mode & 1) value = ${this.requireFn}(value);`, `if(mode & 8) return value;`, \"if((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\", \"var ns = Object.create(null);\", `${this.requireFn}.r(ns);`, \"Object.defineProperty(ns, 'default', { enumerable: true, value: value });\", \"if(mode & 2 && typeof value != 'string') for(var key in value) \" + `${this.requireFn}.d(ns, key, function(key) { ` + \"return value[key]; \" + \"}.bind(null, key));\", \"return ns;\"]));\n      buf.push(\"};\");\n      buf.push(\"\");\n      buf.push(\"// getDefaultExport function for compatibility with non-harmony modules\");\n      buf.push(this.requireFn + \".n = function(module) {\");\n      buf.push(Template.indent([\"var getter = module && module.__esModule ?\", Template.indent([\"function getDefault() { return module['default']; } :\", \"function getModuleExports() { return module; };\"]), `${this.requireFn}.d(getter, 'a', getter);`, \"return getter;\"]));\n      buf.push(\"};\");\n      buf.push(\"\");\n      buf.push(\"// Object.prototype.hasOwnProperty.call\");\n      buf.push(`${this.requireFn}.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };`);\n      const publicPath = this.getPublicPath({\n        hash: hash\n      });\n      buf.push(\"\");\n      buf.push(\"// __webpack_public_path__\");\n      buf.push(`${this.requireFn}.p = ${JSON.stringify(publicPath)};`);\n      return Template.asString(buf);\n    });\n    this.requireFn = \"__webpack_require__\";\n  }\n  /**\n   *\n   * @param {RenderManifestOptions} options render manifest options\n   * @returns {TODO[]} returns render manifest\n   */\n\n\n  getRenderManifest(options) {\n    const result = [];\n    this.hooks.renderManifest.call(result, options);\n    return result;\n  }\n  /**\n   * TODO webpack 5: remove moduleTemplate and dependencyTemplates\n   * @param {string} hash hash to be used for render call\n   * @param {Chunk} chunk Chunk instance\n   * @param {ModuleTemplate} moduleTemplate ModuleTemplate instance for render\n   * @param {Map<Function, DependencyTemplate>} dependencyTemplates dependency templates\n   * @returns {string[]} the generated source of the bootstrap code\n   */\n\n\n  renderBootstrap(hash, chunk, moduleTemplate, dependencyTemplates) {\n    const buf = [];\n    buf.push(this.hooks.bootstrap.call(\"\", chunk, hash, moduleTemplate, dependencyTemplates));\n    buf.push(this.hooks.localVars.call(\"\", chunk, hash));\n    buf.push(\"\");\n    buf.push(\"// The require function\");\n    buf.push(`function ${this.requireFn}(moduleId) {`);\n    buf.push(Template.indent(this.hooks.require.call(\"\", chunk, hash)));\n    buf.push(\"}\");\n    buf.push(\"\");\n    buf.push(Template.asString(this.hooks.requireExtensions.call(\"\", chunk, hash)));\n    buf.push(\"\");\n    buf.push(Template.asString(this.hooks.beforeStartup.call(\"\", chunk, hash)));\n    const afterStartupCode = Template.asString(this.hooks.afterStartup.call(\"\", chunk, hash));\n\n    if (afterStartupCode) {\n      // TODO webpack 5: this is a bit hacky to avoid a breaking change\n      // change it to a better way\n      buf.push(\"var startupResult = (function() {\");\n    }\n\n    buf.push(Template.asString(this.hooks.startup.call(\"\", chunk, hash)));\n\n    if (afterStartupCode) {\n      buf.push(\"})();\");\n      buf.push(afterStartupCode);\n      buf.push(\"return startupResult;\");\n    }\n\n    return buf;\n  }\n  /**\n   * @param {string} hash hash to be used for render call\n   * @param {Chunk} chunk Chunk instance\n   * @param {ModuleTemplate} moduleTemplate ModuleTemplate instance for render\n   * @param {Map<Function, DependencyTemplate>} dependencyTemplates dependency templates\n   * @returns {ConcatSource} the newly generated source from rendering\n   */\n\n\n  render(hash, chunk, moduleTemplate, dependencyTemplates) {\n    const buf = this.renderBootstrap(hash, chunk, moduleTemplate, dependencyTemplates);\n    let source = this.hooks.render.call(new OriginalSource(Template.prefix(buf, \" \\t\") + \"\\n\", \"webpack/bootstrap\"), chunk, hash, moduleTemplate, dependencyTemplates);\n\n    if (chunk.hasEntryModule()) {\n      source = this.hooks.renderWithEntry.call(source, chunk, hash);\n    }\n\n    if (!source) {\n      throw new Error(\"Compiler error: MainTemplate plugin 'render' should return something\");\n    }\n\n    chunk.rendered = true;\n    return new ConcatSource(source, \";\");\n  }\n  /**\n   *\n   * @param {string} hash hash for render fn\n   * @param {Chunk} chunk Chunk instance for require\n   * @param {(number|string)=} varModuleId module id\n   * @returns {TODO} the moduleRequire hook call return signature\n   */\n\n\n  renderRequireFunctionForModule(hash, chunk, varModuleId) {\n    return this.hooks.moduleRequire.call(this.requireFn, chunk, hash, varModuleId);\n  }\n  /**\n   *\n   * @param {string} hash hash for render add fn\n   * @param {Chunk} chunk Chunk instance for require add fn\n   * @param {(string|number)=} varModuleId module id\n   * @param {Module} varModule Module instance\n   * @returns {TODO} renderAddModule call\n   */\n\n\n  renderAddModule(hash, chunk, varModuleId, varModule) {\n    return this.hooks.addModule.call(`modules[${varModuleId}] = ${varModule};`, chunk, hash, varModuleId, varModule);\n  }\n  /**\n   *\n   * @param {string} hash string hash\n   * @param {number=} length length\n   * @returns {string} call hook return\n   */\n\n\n  renderCurrentHashCode(hash, length) {\n    length = length || Infinity;\n    return this.hooks.currentHash.call(JSON.stringify(hash.substr(0, length)), length);\n  }\n  /**\n   *\n   * @param {object} options get public path options\n   * @returns {string} hook call\n   */\n\n\n  getPublicPath(options) {\n    return this.hooks.assetPath.call(this.outputOptions.publicPath || \"\", options);\n  }\n\n  getAssetPath(path, options) {\n    return this.hooks.assetPath.call(path, options);\n  }\n\n  getAssetPathWithInfo(path, options) {\n    const assetInfo = {}; // TODO webpack 5: refactor assetPath hook to receive { path, info } object\n\n    const newPath = this.hooks.assetPath.call(path, options, assetInfo);\n    return {\n      path: newPath,\n      info: assetInfo\n    };\n  }\n  /**\n   * Updates hash with information from this template\n   * @param {Hash} hash the hash to update\n   * @returns {void}\n   */\n\n\n  updateHash(hash) {\n    hash.update(\"maintemplate\");\n    hash.update(\"3\");\n    this.hooks.hash.call(hash);\n  }\n  /**\n   * TODO webpack 5: remove moduleTemplate and dependencyTemplates\n   * Updates hash with chunk-specific information from this template\n   * @param {Hash} hash the hash to update\n   * @param {Chunk} chunk the chunk\n   * @param {ModuleTemplate} moduleTemplate ModuleTemplate instance for render\n   * @param {Map<Function, DependencyTemplate>} dependencyTemplates dependency templates\n   * @returns {void}\n   */\n\n\n  updateHashForChunk(hash, chunk, moduleTemplate, dependencyTemplates) {\n    this.updateHash(hash);\n    this.hooks.hashForChunk.call(hash, chunk);\n\n    for (const line of this.renderBootstrap(\"0000\", chunk, moduleTemplate, dependencyTemplates)) {\n      hash.update(line);\n    }\n  }\n\n  useChunkHash(chunk) {\n    const paths = this.hooks.globalHashPaths.call([]);\n    return !this.hooks.globalHash.call(chunk, paths);\n  }\n\n};","map":{"version":3,"sources":["/Users/hamzakhan/Documents/twitter-react/twitter/node_modules/webpack/lib/MainTemplate.js"],"names":["ConcatSource","OriginalSource","PrefixSource","RawSource","require","Tapable","SyncWaterfallHook","SyncHook","SyncBailHook","Template","module","exports","MainTemplate","constructor","outputOptions","hooks","renderManifest","modules","moduleObj","requireEnsure","bootstrap","localVars","requireExtensions","beforeStartup","startup","afterStartup","render","renderWithEntry","moduleRequire","addModule","currentHash","assetPath","hash","hashForChunk","globalHashPaths","globalHash","hotBootstrap","tap","source","chunk","buf","entryModule","push","renderRequireFunctionForModule","JSON","stringify","id","requireFn","asString","bootstrapSource","moduleTemplate","dependencyTemplates","add","call","indent","strictModuleExceptionHandling","varModuleId","chunkMaps","getChunkMaps","Object","keys","length","hasModuleInGraph","m","blocks","some","b","chunkGroup","chunks","publicPath","getPublicPath","getRenderManifest","options","result","renderBootstrap","afterStartupCode","prefix","hasEntryModule","Error","rendered","renderAddModule","varModule","renderCurrentHashCode","Infinity","substr","getAssetPath","path","getAssetPathWithInfo","assetInfo","newPath","info","updateHash","update","updateHashForChunk","line","useChunkHash","paths"],"mappings":"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","sourcesContent":["/*\n\tMIT License http://www.opensource.org/licenses/mit-license.php\n\tAuthor Tobias Koppers @sokra\n*/\n\"use strict\";\n\nconst {\n\tConcatSource,\n\tOriginalSource,\n\tPrefixSource,\n\tRawSource\n} = require(\"webpack-sources\");\nconst {\n\tTapable,\n\tSyncWaterfallHook,\n\tSyncHook,\n\tSyncBailHook\n} = require(\"tapable\");\nconst Template = require(\"./Template\");\n\n/** @typedef {import(\"webpack-sources\").ConcatSource} ConcatSource */\n/** @typedef {import(\"webpack-sources\").Source} Source */\n/** @typedef {import(\"./ModuleTemplate\")} ModuleTemplate */\n/** @typedef {import(\"./Chunk\")} Chunk */\n/** @typedef {import(\"./Module\")} Module} */\n/** @typedef {import(\"./util/createHash\").Hash} Hash} */\n/** @typedef {import(\"./Dependency\").DependencyTemplate} DependencyTemplate} */\n\n/**\n * @typedef {Object} RenderManifestOptions\n * @property {Chunk} chunk the chunk used to render\n * @property {string} hash\n * @property {string} fullHash\n * @property {TODO} outputOptions\n * @property {{javascript: ModuleTemplate, webassembly: ModuleTemplate}} moduleTemplates\n * @property {Map<TODO, TODO>} dependencyTemplates\n */\n\n// require function shortcuts:\n// __webpack_require__.s = the module id of the entry point\n// __webpack_require__.c = the module cache\n// __webpack_require__.m = the module functions\n// __webpack_require__.p = the bundle public path\n// __webpack_require__.i = the identity function used for harmony imports\n// __webpack_require__.e = the chunk ensure function\n// __webpack_require__.d = the exported property define getter function\n// __webpack_require__.o = Object.prototype.hasOwnProperty.call\n// __webpack_require__.r = define compatibility on export\n// __webpack_require__.t = create a fake namespace object\n// __webpack_require__.n = compatibility get default export\n// __webpack_require__.h = the webpack hash\n// __webpack_require__.w = an object containing all installed WebAssembly.Instance export objects keyed by module id\n// __webpack_require__.oe = the uncaught error handler for the webpack runtime\n// __webpack_require__.nc = the script nonce\n\nmodule.exports = class MainTemplate extends Tapable {\n\t/**\n\t *\n\t * @param {TODO=} outputOptions output options for the MainTemplate\n\t */\n\tconstructor(outputOptions) {\n\t\tsuper();\n\t\t/** @type {TODO?} */\n\t\tthis.outputOptions = outputOptions || {};\n\t\tthis.hooks = {\n\t\t\t/** @type {SyncWaterfallHook<TODO[], RenderManifestOptions>} */\n\t\t\trenderManifest: new SyncWaterfallHook([\"result\", \"options\"]),\n\t\t\tmodules: new SyncWaterfallHook([\n\t\t\t\t\"modules\",\n\t\t\t\t\"chunk\",\n\t\t\t\t\"hash\",\n\t\t\t\t\"moduleTemplate\",\n\t\t\t\t\"dependencyTemplates\"\n\t\t\t]),\n\t\t\tmoduleObj: new SyncWaterfallHook([\n\t\t\t\t\"source\",\n\t\t\t\t\"chunk\",\n\t\t\t\t\"hash\",\n\t\t\t\t\"moduleIdExpression\"\n\t\t\t]),\n\t\t\trequireEnsure: new SyncWaterfallHook([\n\t\t\t\t\"source\",\n\t\t\t\t\"chunk\",\n\t\t\t\t\"hash\",\n\t\t\t\t\"chunkIdExpression\"\n\t\t\t]),\n\t\t\tbootstrap: new SyncWaterfallHook([\n\t\t\t\t\"source\",\n\t\t\t\t\"chunk\",\n\t\t\t\t\"hash\",\n\t\t\t\t\"moduleTemplate\",\n\t\t\t\t\"dependencyTemplates\"\n\t\t\t]),\n\t\t\tlocalVars: new SyncWaterfallHook([\"source\", \"chunk\", \"hash\"]),\n\t\t\trequire: new SyncWaterfallHook([\"source\", \"chunk\", \"hash\"]),\n\t\t\trequireExtensions: new SyncWaterfallHook([\"source\", \"chunk\", \"hash\"]),\n\t\t\t/** @type {SyncWaterfallHook<string, Chunk, string>} */\n\t\t\tbeforeStartup: new SyncWaterfallHook([\"source\", \"chunk\", \"hash\"]),\n\t\t\t/** @type {SyncWaterfallHook<string, Chunk, string>} */\n\t\t\tstartup: new SyncWaterfallHook([\"source\", \"chunk\", \"hash\"]),\n\t\t\t/** @type {SyncWaterfallHook<string, Chunk, string>} */\n\t\t\tafterStartup: new SyncWaterfallHook([\"source\", \"chunk\", \"hash\"]),\n\t\t\trender: new SyncWaterfallHook([\n\t\t\t\t\"source\",\n\t\t\t\t\"chunk\",\n\t\t\t\t\"hash\",\n\t\t\t\t\"moduleTemplate\",\n\t\t\t\t\"dependencyTemplates\"\n\t\t\t]),\n\t\t\trenderWithEntry: new SyncWaterfallHook([\"source\", \"chunk\", \"hash\"]),\n\t\t\tmoduleRequire: new SyncWaterfallHook([\n\t\t\t\t\"source\",\n\t\t\t\t\"chunk\",\n\t\t\t\t\"hash\",\n\t\t\t\t\"moduleIdExpression\"\n\t\t\t]),\n\t\t\taddModule: new SyncWaterfallHook([\n\t\t\t\t\"source\",\n\t\t\t\t\"chunk\",\n\t\t\t\t\"hash\",\n\t\t\t\t\"moduleIdExpression\",\n\t\t\t\t\"moduleExpression\"\n\t\t\t]),\n\t\t\tcurrentHash: new SyncWaterfallHook([\"source\", \"requestedLength\"]),\n\t\t\tassetPath: new SyncWaterfallHook([\"path\", \"options\", \"assetInfo\"]),\n\t\t\thash: new SyncHook([\"hash\"]),\n\t\t\thashForChunk: new SyncHook([\"hash\", \"chunk\"]),\n\t\t\tglobalHashPaths: new SyncWaterfallHook([\"paths\"]),\n\t\t\tglobalHash: new SyncBailHook([\"chunk\", \"paths\"]),\n\n\t\t\t// TODO this should be moved somewhere else\n\t\t\t// It's weird here\n\t\t\thotBootstrap: new SyncWaterfallHook([\"source\", \"chunk\", \"hash\"])\n\t\t};\n\t\tthis.hooks.startup.tap(\"MainTemplate\", (source, chunk, hash) => {\n\t\t\t/** @type {string[]} */\n\t\t\tconst buf = [];\n\t\t\tif (chunk.entryModule) {\n\t\t\t\tbuf.push(\"// Load entry module and return exports\");\n\t\t\t\tbuf.push(\n\t\t\t\t\t`return ${this.renderRequireFunctionForModule(\n\t\t\t\t\t\thash,\n\t\t\t\t\t\tchunk,\n\t\t\t\t\t\tJSON.stringify(chunk.entryModule.id)\n\t\t\t\t\t)}(${this.requireFn}.s = ${JSON.stringify(chunk.entryModule.id)});`\n\t\t\t\t);\n\t\t\t}\n\t\t\treturn Template.asString(buf);\n\t\t});\n\t\tthis.hooks.render.tap(\n\t\t\t\"MainTemplate\",\n\t\t\t(bootstrapSource, chunk, hash, moduleTemplate, dependencyTemplates) => {\n\t\t\t\tconst source = new ConcatSource();\n\t\t\t\tsource.add(\"/******/ (function(modules) { // webpackBootstrap\\n\");\n\t\t\t\tsource.add(new PrefixSource(\"/******/\", bootstrapSource));\n\t\t\t\tsource.add(\"/******/ })\\n\");\n\t\t\t\tsource.add(\n\t\t\t\t\t\"/************************************************************************/\\n\"\n\t\t\t\t);\n\t\t\t\tsource.add(\"/******/ (\");\n\t\t\t\tsource.add(\n\t\t\t\t\tthis.hooks.modules.call(\n\t\t\t\t\t\tnew RawSource(\"\"),\n\t\t\t\t\t\tchunk,\n\t\t\t\t\t\thash,\n\t\t\t\t\t\tmoduleTemplate,\n\t\t\t\t\t\tdependencyTemplates\n\t\t\t\t\t)\n\t\t\t\t);\n\t\t\t\tsource.add(\")\");\n\t\t\t\treturn source;\n\t\t\t}\n\t\t);\n\t\tthis.hooks.localVars.tap(\"MainTemplate\", (source, chunk, hash) => {\n\t\t\treturn Template.asString([\n\t\t\t\tsource,\n\t\t\t\t\"// The module cache\",\n\t\t\t\t\"var installedModules = {};\"\n\t\t\t]);\n\t\t});\n\t\tthis.hooks.require.tap(\"MainTemplate\", (source, chunk, hash) => {\n\t\t\treturn Template.asString([\n\t\t\t\tsource,\n\t\t\t\t\"// Check if module is in cache\",\n\t\t\t\t\"if(installedModules[moduleId]) {\",\n\t\t\t\tTemplate.indent(\"return installedModules[moduleId].exports;\"),\n\t\t\t\t\"}\",\n\t\t\t\t\"// Create a new module (and put it into the cache)\",\n\t\t\t\t\"var module = installedModules[moduleId] = {\",\n\t\t\t\tTemplate.indent(this.hooks.moduleObj.call(\"\", chunk, hash, \"moduleId\")),\n\t\t\t\t\"};\",\n\t\t\t\t\"\",\n\t\t\t\tTemplate.asString(\n\t\t\t\t\toutputOptions.strictModuleExceptionHandling\n\t\t\t\t\t\t? [\n\t\t\t\t\t\t\t\t\"// Execute the module function\",\n\t\t\t\t\t\t\t\t\"var threw = true;\",\n\t\t\t\t\t\t\t\t\"try {\",\n\t\t\t\t\t\t\t\tTemplate.indent([\n\t\t\t\t\t\t\t\t\t`modules[moduleId].call(module.exports, module, module.exports, ${this.renderRequireFunctionForModule(\n\t\t\t\t\t\t\t\t\t\thash,\n\t\t\t\t\t\t\t\t\t\tchunk,\n\t\t\t\t\t\t\t\t\t\t\"moduleId\"\n\t\t\t\t\t\t\t\t\t)});`,\n\t\t\t\t\t\t\t\t\t\"threw = false;\"\n\t\t\t\t\t\t\t\t]),\n\t\t\t\t\t\t\t\t\"} finally {\",\n\t\t\t\t\t\t\t\tTemplate.indent([\n\t\t\t\t\t\t\t\t\t\"if(threw) delete installedModules[moduleId];\"\n\t\t\t\t\t\t\t\t]),\n\t\t\t\t\t\t\t\t\"}\"\n\t\t\t\t\t\t  ]\n\t\t\t\t\t\t: [\n\t\t\t\t\t\t\t\t\"// Execute the module function\",\n\t\t\t\t\t\t\t\t`modules[moduleId].call(module.exports, module, module.exports, ${this.renderRequireFunctionForModule(\n\t\t\t\t\t\t\t\t\thash,\n\t\t\t\t\t\t\t\t\tchunk,\n\t\t\t\t\t\t\t\t\t\"moduleId\"\n\t\t\t\t\t\t\t\t)});`\n\t\t\t\t\t\t  ]\n\t\t\t\t),\n\t\t\t\t\"\",\n\t\t\t\t\"// Flag the module as loaded\",\n\t\t\t\t\"module.l = true;\",\n\t\t\t\t\"\",\n\t\t\t\t\"// Return the exports of the module\",\n\t\t\t\t\"return module.exports;\"\n\t\t\t]);\n\t\t});\n\t\tthis.hooks.moduleObj.tap(\n\t\t\t\"MainTemplate\",\n\t\t\t(source, chunk, hash, varModuleId) => {\n\t\t\t\treturn Template.asString([\"i: moduleId,\", \"l: false,\", \"exports: {}\"]);\n\t\t\t}\n\t\t);\n\t\tthis.hooks.requireExtensions.tap(\"MainTemplate\", (source, chunk, hash) => {\n\t\t\tconst buf = [];\n\t\t\tconst chunkMaps = chunk.getChunkMaps();\n\t\t\t// Check if there are non initial chunks which need to be imported using require-ensure\n\t\t\tif (Object.keys(chunkMaps.hash).length) {\n\t\t\t\tbuf.push(\"// This file contains only the entry chunk.\");\n\t\t\t\tbuf.push(\"// The chunk loading function for additional chunks\");\n\t\t\t\tbuf.push(`${this.requireFn}.e = function requireEnsure(chunkId) {`);\n\t\t\t\tbuf.push(Template.indent(\"var promises = [];\"));\n\t\t\t\tbuf.push(\n\t\t\t\t\tTemplate.indent(\n\t\t\t\t\t\tthis.hooks.requireEnsure.call(\"\", chunk, hash, \"chunkId\")\n\t\t\t\t\t)\n\t\t\t\t);\n\t\t\t\tbuf.push(Template.indent(\"return Promise.all(promises);\"));\n\t\t\t\tbuf.push(\"};\");\n\t\t\t} else if (\n\t\t\t\tchunk.hasModuleInGraph(m =>\n\t\t\t\t\tm.blocks.some(b => b.chunkGroup && b.chunkGroup.chunks.length > 0)\n\t\t\t\t)\n\t\t\t) {\n\t\t\t\t// There async blocks in the graph, so we need to add an empty requireEnsure\n\t\t\t\t// function anyway. This can happen with multiple entrypoints.\n\t\t\t\tbuf.push(\"// The chunk loading function for additional chunks\");\n\t\t\t\tbuf.push(\"// Since all referenced chunks are already included\");\n\t\t\t\tbuf.push(\"// in this file, this function is empty here.\");\n\t\t\t\tbuf.push(`${this.requireFn}.e = function requireEnsure() {`);\n\t\t\t\tbuf.push(Template.indent(\"return Promise.resolve();\"));\n\t\t\t\tbuf.push(\"};\");\n\t\t\t}\n\t\t\tbuf.push(\"\");\n\t\t\tbuf.push(\"// expose the modules object (__webpack_modules__)\");\n\t\t\tbuf.push(`${this.requireFn}.m = modules;`);\n\n\t\t\tbuf.push(\"\");\n\t\t\tbuf.push(\"// expose the module cache\");\n\t\t\tbuf.push(`${this.requireFn}.c = installedModules;`);\n\n\t\t\tbuf.push(\"\");\n\t\t\tbuf.push(\"// define getter function for harmony exports\");\n\t\t\tbuf.push(`${this.requireFn}.d = function(exports, name, getter) {`);\n\t\t\tbuf.push(\n\t\t\t\tTemplate.indent([\n\t\t\t\t\t`if(!${this.requireFn}.o(exports, name)) {`,\n\t\t\t\t\tTemplate.indent([\n\t\t\t\t\t\t\"Object.defineProperty(exports, name, { enumerable: true, get: getter });\"\n\t\t\t\t\t]),\n\t\t\t\t\t\"}\"\n\t\t\t\t])\n\t\t\t);\n\t\t\tbuf.push(\"};\");\n\n\t\t\tbuf.push(\"\");\n\t\t\tbuf.push(\"// define __esModule on exports\");\n\t\t\tbuf.push(`${this.requireFn}.r = function(exports) {`);\n\t\t\tbuf.push(\n\t\t\t\tTemplate.indent([\n\t\t\t\t\t\"if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\",\n\t\t\t\t\tTemplate.indent([\n\t\t\t\t\t\t\"Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\"\n\t\t\t\t\t]),\n\t\t\t\t\t\"}\",\n\t\t\t\t\t\"Object.defineProperty(exports, '__esModule', { value: true });\"\n\t\t\t\t])\n\t\t\t);\n\t\t\tbuf.push(\"};\");\n\n\t\t\tbuf.push(\"\");\n\t\t\tbuf.push(\"// create a fake namespace object\");\n\t\t\tbuf.push(\"// mode & 1: value is a module id, require it\");\n\t\t\tbuf.push(\"// mode & 2: merge all properties of value into the ns\");\n\t\t\tbuf.push(\"// mode & 4: return value when already ns object\");\n\t\t\tbuf.push(\"// mode & 8|1: behave like require\");\n\t\t\tbuf.push(`${this.requireFn}.t = function(value, mode) {`);\n\t\t\tbuf.push(\n\t\t\t\tTemplate.indent([\n\t\t\t\t\t`if(mode & 1) value = ${this.requireFn}(value);`,\n\t\t\t\t\t`if(mode & 8) return value;`,\n\t\t\t\t\t\"if((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\",\n\t\t\t\t\t\"var ns = Object.create(null);\",\n\t\t\t\t\t`${this.requireFn}.r(ns);`,\n\t\t\t\t\t\"Object.defineProperty(ns, 'default', { enumerable: true, value: value });\",\n\t\t\t\t\t\"if(mode & 2 && typeof value != 'string') for(var key in value) \" +\n\t\t\t\t\t\t`${this.requireFn}.d(ns, key, function(key) { ` +\n\t\t\t\t\t\t\"return value[key]; \" +\n\t\t\t\t\t\t\"}.bind(null, key));\",\n\t\t\t\t\t\"return ns;\"\n\t\t\t\t])\n\t\t\t);\n\t\t\tbuf.push(\"};\");\n\n\t\t\tbuf.push(\"\");\n\t\t\tbuf.push(\n\t\t\t\t\"// getDefaultExport function for compatibility with non-harmony modules\"\n\t\t\t);\n\t\t\tbuf.push(this.requireFn + \".n = function(module) {\");\n\t\t\tbuf.push(\n\t\t\t\tTemplate.indent([\n\t\t\t\t\t\"var getter = module && module.__esModule ?\",\n\t\t\t\t\tTemplate.indent([\n\t\t\t\t\t\t\"function getDefault() { return module['default']; } :\",\n\t\t\t\t\t\t\"function getModuleExports() { return module; };\"\n\t\t\t\t\t]),\n\t\t\t\t\t`${this.requireFn}.d(getter, 'a', getter);`,\n\t\t\t\t\t\"return getter;\"\n\t\t\t\t])\n\t\t\t);\n\t\t\tbuf.push(\"};\");\n\n\t\t\tbuf.push(\"\");\n\t\t\tbuf.push(\"// Object.prototype.hasOwnProperty.call\");\n\t\t\tbuf.push(\n\t\t\t\t`${this.requireFn}.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };`\n\t\t\t);\n\n\t\t\tconst publicPath = this.getPublicPath({\n\t\t\t\thash: hash\n\t\t\t});\n\t\t\tbuf.push(\"\");\n\t\t\tbuf.push(\"// __webpack_public_path__\");\n\t\t\tbuf.push(`${this.requireFn}.p = ${JSON.stringify(publicPath)};`);\n\t\t\treturn Template.asString(buf);\n\t\t});\n\n\t\tthis.requireFn = \"__webpack_require__\";\n\t}\n\n\t/**\n\t *\n\t * @param {RenderManifestOptions} options render manifest options\n\t * @returns {TODO[]} returns render manifest\n\t */\n\tgetRenderManifest(options) {\n\t\tconst result = [];\n\n\t\tthis.hooks.renderManifest.call(result, options);\n\n\t\treturn result;\n\t}\n\n\t/**\n\t * TODO webpack 5: remove moduleTemplate and dependencyTemplates\n\t * @param {string} hash hash to be used for render call\n\t * @param {Chunk} chunk Chunk instance\n\t * @param {ModuleTemplate} moduleTemplate ModuleTemplate instance for render\n\t * @param {Map<Function, DependencyTemplate>} dependencyTemplates dependency templates\n\t * @returns {string[]} the generated source of the bootstrap code\n\t */\n\trenderBootstrap(hash, chunk, moduleTemplate, dependencyTemplates) {\n\t\tconst buf = [];\n\t\tbuf.push(\n\t\t\tthis.hooks.bootstrap.call(\n\t\t\t\t\"\",\n\t\t\t\tchunk,\n\t\t\t\thash,\n\t\t\t\tmoduleTemplate,\n\t\t\t\tdependencyTemplates\n\t\t\t)\n\t\t);\n\t\tbuf.push(this.hooks.localVars.call(\"\", chunk, hash));\n\t\tbuf.push(\"\");\n\t\tbuf.push(\"// The require function\");\n\t\tbuf.push(`function ${this.requireFn}(moduleId) {`);\n\t\tbuf.push(Template.indent(this.hooks.require.call(\"\", chunk, hash)));\n\t\tbuf.push(\"}\");\n\t\tbuf.push(\"\");\n\t\tbuf.push(\n\t\t\tTemplate.asString(this.hooks.requireExtensions.call(\"\", chunk, hash))\n\t\t);\n\t\tbuf.push(\"\");\n\t\tbuf.push(Template.asString(this.hooks.beforeStartup.call(\"\", chunk, hash)));\n\t\tconst afterStartupCode = Template.asString(\n\t\t\tthis.hooks.afterStartup.call(\"\", chunk, hash)\n\t\t);\n\t\tif (afterStartupCode) {\n\t\t\t// TODO webpack 5: this is a bit hacky to avoid a breaking change\n\t\t\t// change it to a better way\n\t\t\tbuf.push(\"var startupResult = (function() {\");\n\t\t}\n\t\tbuf.push(Template.asString(this.hooks.startup.call(\"\", chunk, hash)));\n\t\tif (afterStartupCode) {\n\t\t\tbuf.push(\"})();\");\n\t\t\tbuf.push(afterStartupCode);\n\t\t\tbuf.push(\"return startupResult;\");\n\t\t}\n\t\treturn buf;\n\t}\n\n\t/**\n\t * @param {string} hash hash to be used for render call\n\t * @param {Chunk} chunk Chunk instance\n\t * @param {ModuleTemplate} moduleTemplate ModuleTemplate instance for render\n\t * @param {Map<Function, DependencyTemplate>} dependencyTemplates dependency templates\n\t * @returns {ConcatSource} the newly generated source from rendering\n\t */\n\trender(hash, chunk, moduleTemplate, dependencyTemplates) {\n\t\tconst buf = this.renderBootstrap(\n\t\t\thash,\n\t\t\tchunk,\n\t\t\tmoduleTemplate,\n\t\t\tdependencyTemplates\n\t\t);\n\t\tlet source = this.hooks.render.call(\n\t\t\tnew OriginalSource(\n\t\t\t\tTemplate.prefix(buf, \" \\t\") + \"\\n\",\n\t\t\t\t\"webpack/bootstrap\"\n\t\t\t),\n\t\t\tchunk,\n\t\t\thash,\n\t\t\tmoduleTemplate,\n\t\t\tdependencyTemplates\n\t\t);\n\t\tif (chunk.hasEntryModule()) {\n\t\t\tsource = this.hooks.renderWithEntry.call(source, chunk, hash);\n\t\t}\n\t\tif (!source) {\n\t\t\tthrow new Error(\n\t\t\t\t\"Compiler error: MainTemplate plugin 'render' should return something\"\n\t\t\t);\n\t\t}\n\t\tchunk.rendered = true;\n\t\treturn new ConcatSource(source, \";\");\n\t}\n\n\t/**\n\t *\n\t * @param {string} hash hash for render fn\n\t * @param {Chunk} chunk Chunk instance for require\n\t * @param {(number|string)=} varModuleId module id\n\t * @returns {TODO} the moduleRequire hook call return signature\n\t */\n\trenderRequireFunctionForModule(hash, chunk, varModuleId) {\n\t\treturn this.hooks.moduleRequire.call(\n\t\t\tthis.requireFn,\n\t\t\tchunk,\n\t\t\thash,\n\t\t\tvarModuleId\n\t\t);\n\t}\n\n\t/**\n\t *\n\t * @param {string} hash hash for render add fn\n\t * @param {Chunk} chunk Chunk instance for require add fn\n\t * @param {(string|number)=} varModuleId module id\n\t * @param {Module} varModule Module instance\n\t * @returns {TODO} renderAddModule call\n\t */\n\trenderAddModule(hash, chunk, varModuleId, varModule) {\n\t\treturn this.hooks.addModule.call(\n\t\t\t`modules[${varModuleId}] = ${varModule};`,\n\t\t\tchunk,\n\t\t\thash,\n\t\t\tvarModuleId,\n\t\t\tvarModule\n\t\t);\n\t}\n\n\t/**\n\t *\n\t * @param {string} hash string hash\n\t * @param {number=} length length\n\t * @returns {string} call hook return\n\t */\n\trenderCurrentHashCode(hash, length) {\n\t\tlength = length || Infinity;\n\t\treturn this.hooks.currentHash.call(\n\t\t\tJSON.stringify(hash.substr(0, length)),\n\t\t\tlength\n\t\t);\n\t}\n\n\t/**\n\t *\n\t * @param {object} options get public path options\n\t * @returns {string} hook call\n\t */\n\tgetPublicPath(options) {\n\t\treturn this.hooks.assetPath.call(\n\t\t\tthis.outputOptions.publicPath || \"\",\n\t\t\toptions\n\t\t);\n\t}\n\n\tgetAssetPath(path, options) {\n\t\treturn this.hooks.assetPath.call(path, options);\n\t}\n\n\tgetAssetPathWithInfo(path, options) {\n\t\tconst assetInfo = {};\n\t\t// TODO webpack 5: refactor assetPath hook to receive { path, info } object\n\t\tconst newPath = this.hooks.assetPath.call(path, options, assetInfo);\n\t\treturn { path: newPath, info: assetInfo };\n\t}\n\n\t/**\n\t * Updates hash with information from this template\n\t * @param {Hash} hash the hash to update\n\t * @returns {void}\n\t */\n\tupdateHash(hash) {\n\t\thash.update(\"maintemplate\");\n\t\thash.update(\"3\");\n\t\tthis.hooks.hash.call(hash);\n\t}\n\n\t/**\n\t * TODO webpack 5: remove moduleTemplate and dependencyTemplates\n\t * Updates hash with chunk-specific information from this template\n\t * @param {Hash} hash the hash to update\n\t * @param {Chunk} chunk the chunk\n\t * @param {ModuleTemplate} moduleTemplate ModuleTemplate instance for render\n\t * @param {Map<Function, DependencyTemplate>} dependencyTemplates dependency templates\n\t * @returns {void}\n\t */\n\tupdateHashForChunk(hash, chunk, moduleTemplate, dependencyTemplates) {\n\t\tthis.updateHash(hash);\n\t\tthis.hooks.hashForChunk.call(hash, chunk);\n\t\tfor (const line of this.renderBootstrap(\n\t\t\t\"0000\",\n\t\t\tchunk,\n\t\t\tmoduleTemplate,\n\t\t\tdependencyTemplates\n\t\t)) {\n\t\t\thash.update(line);\n\t\t}\n\t}\n\n\tuseChunkHash(chunk) {\n\t\tconst paths = this.hooks.globalHashPaths.call([]);\n\t\treturn !this.hooks.globalHash.call(chunk, paths);\n\t}\n};\n"]},"metadata":{},"sourceType":"script"}