{"ast":null,"code":"'use strict';\n\nconst BB = require('bluebird');\n\nconst figgyPudding = require('figgy-pudding');\n\nconst fixOwner = require('./fix-owner');\n\nconst path = require('path');\n\nconst rimraf = BB.promisify(require('rimraf'));\n\nconst uniqueFilename = require('unique-filename');\n\nconst TmpOpts = figgyPudding({\n  tmpPrefix: {}\n});\nmodule.exports.mkdir = mktmpdir;\n\nfunction mktmpdir(cache, opts) {\n  opts = TmpOpts(opts);\n  const tmpTarget = uniqueFilename(path.join(cache, 'tmp'), opts.tmpPrefix);\n  return fixOwner.mkdirfix(cache, tmpTarget).then(() => {\n    return tmpTarget;\n  });\n}\n\nmodule.exports.withTmp = withTmp;\n\nfunction withTmp(cache, opts, cb) {\n  if (!cb) {\n    cb = opts;\n    opts = null;\n  }\n\n  opts = TmpOpts(opts);\n  return BB.using(mktmpdir(cache, opts).disposer(rimraf), cb);\n}\n\nmodule.exports.fix = fixtmpdir;\n\nfunction fixtmpdir(cache) {\n  return fixOwner(cache, path.join(cache, 'tmp'));\n}","map":{"version":3,"sources":["/Users/hamzakhan/Documents/twitter-react/twitter/node_modules/webpack/node_modules/cacache/lib/util/tmp.js"],"names":["BB","require","figgyPudding","fixOwner","path","rimraf","promisify","uniqueFilename","TmpOpts","tmpPrefix","module","exports","mkdir","mktmpdir","cache","opts","tmpTarget","join","mkdirfix","then","withTmp","cb","using","disposer","fix","fixtmpdir"],"mappings":"AAAA;;AAEA,MAAMA,EAAE,GAAGC,OAAO,CAAC,UAAD,CAAlB;;AAEA,MAAMC,YAAY,GAAGD,OAAO,CAAC,eAAD,CAA5B;;AACA,MAAME,QAAQ,GAAGF,OAAO,CAAC,aAAD,CAAxB;;AACA,MAAMG,IAAI,GAAGH,OAAO,CAAC,MAAD,CAApB;;AACA,MAAMI,MAAM,GAAGL,EAAE,CAACM,SAAH,CAAaL,OAAO,CAAC,QAAD,CAApB,CAAf;;AACA,MAAMM,cAAc,GAAGN,OAAO,CAAC,iBAAD,CAA9B;;AAEA,MAAMO,OAAO,GAAGN,YAAY,CAAC;AAC3BO,EAAAA,SAAS,EAAE;AADgB,CAAD,CAA5B;AAIAC,MAAM,CAACC,OAAP,CAAeC,KAAf,GAAuBC,QAAvB;;AACA,SAASA,QAAT,CAAmBC,KAAnB,EAA0BC,IAA1B,EAAgC;AAC9BA,EAAAA,IAAI,GAAGP,OAAO,CAACO,IAAD,CAAd;AACA,QAAMC,SAAS,GAAGT,cAAc,CAACH,IAAI,CAACa,IAAL,CAAUH,KAAV,EAAiB,KAAjB,CAAD,EAA0BC,IAAI,CAACN,SAA/B,CAAhC;AACA,SAAON,QAAQ,CAACe,QAAT,CAAkBJ,KAAlB,EAAyBE,SAAzB,EAAoCG,IAApC,CAAyC,MAAM;AACpD,WAAOH,SAAP;AACD,GAFM,CAAP;AAGD;;AAEDN,MAAM,CAACC,OAAP,CAAeS,OAAf,GAAyBA,OAAzB;;AACA,SAASA,OAAT,CAAkBN,KAAlB,EAAyBC,IAAzB,EAA+BM,EAA/B,EAAmC;AACjC,MAAI,CAACA,EAAL,EAAS;AACPA,IAAAA,EAAE,GAAGN,IAAL;AACAA,IAAAA,IAAI,GAAG,IAAP;AACD;;AACDA,EAAAA,IAAI,GAAGP,OAAO,CAACO,IAAD,CAAd;AACA,SAAOf,EAAE,CAACsB,KAAH,CAAST,QAAQ,CAACC,KAAD,EAAQC,IAAR,CAAR,CAAsBQ,QAAtB,CAA+BlB,MAA/B,CAAT,EAAiDgB,EAAjD,CAAP;AACD;;AAEDX,MAAM,CAACC,OAAP,CAAea,GAAf,GAAqBC,SAArB;;AACA,SAASA,SAAT,CAAoBX,KAApB,EAA2B;AACzB,SAAOX,QAAQ,CAACW,KAAD,EAAQV,IAAI,CAACa,IAAL,CAAUH,KAAV,EAAiB,KAAjB,CAAR,CAAf;AACD","sourcesContent":["'use strict'\n\nconst BB = require('bluebird')\n\nconst figgyPudding = require('figgy-pudding')\nconst fixOwner = require('./fix-owner')\nconst path = require('path')\nconst rimraf = BB.promisify(require('rimraf'))\nconst uniqueFilename = require('unique-filename')\n\nconst TmpOpts = figgyPudding({\n  tmpPrefix: {}\n})\n\nmodule.exports.mkdir = mktmpdir\nfunction mktmpdir (cache, opts) {\n  opts = TmpOpts(opts)\n  const tmpTarget = uniqueFilename(path.join(cache, 'tmp'), opts.tmpPrefix)\n  return fixOwner.mkdirfix(cache, tmpTarget).then(() => {\n    return tmpTarget\n  })\n}\n\nmodule.exports.withTmp = withTmp\nfunction withTmp (cache, opts, cb) {\n  if (!cb) {\n    cb = opts\n    opts = null\n  }\n  opts = TmpOpts(opts)\n  return BB.using(mktmpdir(cache, opts).disposer(rimraf), cb)\n}\n\nmodule.exports.fix = fixtmpdir\nfunction fixtmpdir (cache) {\n  return fixOwner(cache, path.join(cache, 'tmp'))\n}\n"]},"metadata":{},"sourceType":"script"}