{"ast":null,"code":"function _sliceIterator(arr, i) {\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nfunction _slicedToArray(arr, i) {\n  if (Array.isArray(arr)) {\n    return arr;\n  } else if (Symbol.iterator in Object(arr)) {\n    return _sliceIterator(arr, i);\n  } else {\n    throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n  }\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nvar STOP = Symbol(\"STOP\");\n\nfunction makeTransition(regex, nextState) {\n  var _ref = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {},\n      _ref$n = _ref.n,\n      n = _ref$n === void 0 ? 1 : _ref$n,\n      allowedSeparator = _ref.allowedSeparator;\n\n  return function (instance) {\n    if (allowedSeparator) {\n      if (instance.input[instance.ptr] === allowedSeparator) {\n        if (regex.test(instance.input.substring(instance.ptr - 1, instance.ptr))) {\n          // Consume the separator and stay in current state\n          return [instance.currentState, 1];\n        } else {\n          return [instance.terminatingState, 0];\n        }\n      }\n    }\n\n    if (regex.test(instance.input.substring(instance.ptr, instance.ptr + n))) {\n      return [nextState, n];\n    }\n\n    return false;\n  };\n}\n\nfunction combineTransitions(transitions) {\n  return function () {\n    var match = false;\n    var currentTransitions = transitions[this.currentState] || [];\n\n    for (var i = 0; i < currentTransitions.length; ++i) {\n      match = currentTransitions[i](this);\n\n      if (match !== false) {\n        break;\n      }\n    }\n\n    return match || [this.terminatingState, 0];\n  };\n}\n\nvar FSM = /*#__PURE__*/function () {\n  function FSM(transitions, initialState) {\n    var terminatingState = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : STOP;\n\n    _classCallCheck(this, FSM);\n\n    this.initialState = initialState;\n    this.terminatingState = terminatingState;\n\n    if (terminatingState === STOP || !transitions[terminatingState]) {\n      transitions[terminatingState] = [];\n    }\n\n    this.transitionFunction = combineTransitions.call(this, transitions);\n  }\n\n  _createClass(FSM, [{\n    key: \"run\",\n    value: function run(input) {\n      this.input = input;\n      this.ptr = 0;\n      this.currentState = this.initialState;\n      var value = \"\";\n      var eatLength, nextState;\n\n      while (this.currentState !== this.terminatingState && this.ptr < this.input.length) {\n        var _transitionFunction = this.transitionFunction();\n\n        var _transitionFunction2 = _slicedToArray(_transitionFunction, 2);\n\n        nextState = _transitionFunction2[0];\n        eatLength = _transitionFunction2[1];\n        value += this.input.substring(this.ptr, this.ptr += eatLength);\n        this.currentState = nextState;\n      }\n\n      return value;\n    }\n  }]);\n\n  return FSM;\n}();\n\nexport { makeTransition, FSM };","map":{"version":3,"sources":["/Users/hamzakhan/Documents/twitter-react/twitter/node_modules/@webassemblyjs/helper-fsm/esm/index.js"],"names":["_sliceIterator","arr","i","_arr","_n","_d","_e","undefined","_i","Symbol","iterator","_s","next","done","push","value","length","err","_slicedToArray","Array","isArray","Object","TypeError","_classCallCheck","instance","Constructor","_defineProperties","target","props","descriptor","enumerable","configurable","writable","defineProperty","key","_createClass","protoProps","staticProps","prototype","STOP","makeTransition","regex","nextState","_ref","arguments","_ref$n","n","allowedSeparator","input","ptr","test","substring","currentState","terminatingState","combineTransitions","transitions","match","currentTransitions","FSM","initialState","transitionFunction","call","run","eatLength","_transitionFunction","_transitionFunction2"],"mappings":"AAAA,SAASA,cAAT,CAAwBC,GAAxB,EAA6BC,CAA7B,EAAgC;AAAE,MAAIC,IAAI,GAAG,EAAX;AAAe,MAAIC,EAAE,GAAG,IAAT;AAAe,MAAIC,EAAE,GAAG,KAAT;AAAgB,MAAIC,EAAE,GAAGC,SAAT;;AAAoB,MAAI;AAAE,SAAK,IAAIC,EAAE,GAAGP,GAAG,CAACQ,MAAM,CAACC,QAAR,CAAH,EAAT,EAAiCC,EAAtC,EAA0C,EAAEP,EAAE,GAAG,CAACO,EAAE,GAAGH,EAAE,CAACI,IAAH,EAAN,EAAiBC,IAAxB,CAA1C,EAAyET,EAAE,GAAG,IAA9E,EAAoF;AAAED,MAAAA,IAAI,CAACW,IAAL,CAAUH,EAAE,CAACI,KAAb;;AAAqB,UAAIb,CAAC,IAAIC,IAAI,CAACa,MAAL,KAAgBd,CAAzB,EAA4B;AAAQ;AAAE,GAAvJ,CAAwJ,OAAOe,GAAP,EAAY;AAAEZ,IAAAA,EAAE,GAAG,IAAL;AAAWC,IAAAA,EAAE,GAAGW,GAAL;AAAW,GAA5L,SAAqM;AAAE,QAAI;AAAE,UAAI,CAACb,EAAD,IAAOI,EAAE,CAAC,QAAD,CAAF,IAAgB,IAA3B,EAAiCA,EAAE,CAAC,QAAD,CAAF;AAAiB,KAAxD,SAAiE;AAAE,UAAIH,EAAJ,EAAQ,MAAMC,EAAN;AAAW;AAAE;;AAAC,SAAOH,IAAP;AAAc;;AAElZ,SAASe,cAAT,CAAwBjB,GAAxB,EAA6BC,CAA7B,EAAgC;AAAE,MAAIiB,KAAK,CAACC,OAAN,CAAcnB,GAAd,CAAJ,EAAwB;AAAE,WAAOA,GAAP;AAAa,GAAvC,MAA6C,IAAIQ,MAAM,CAACC,QAAP,IAAmBW,MAAM,CAACpB,GAAD,CAA7B,EAAoC;AAAE,WAAOD,cAAc,CAACC,GAAD,EAAMC,CAAN,CAArB;AAAgC,GAAtE,MAA4E;AAAE,UAAM,IAAIoB,SAAJ,CAAc,sDAAd,CAAN;AAA8E;AAAE;;AAE7O,SAASC,eAAT,CAAyBC,QAAzB,EAAmCC,WAAnC,EAAgD;AAAE,MAAI,EAAED,QAAQ,YAAYC,WAAtB,CAAJ,EAAwC;AAAE,UAAM,IAAIH,SAAJ,CAAc,mCAAd,CAAN;AAA2D;AAAE;;AAEzJ,SAASI,iBAAT,CAA2BC,MAA3B,EAAmCC,KAAnC,EAA0C;AAAE,OAAK,IAAI1B,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG0B,KAAK,CAACZ,MAA1B,EAAkCd,CAAC,EAAnC,EAAuC;AAAE,QAAI2B,UAAU,GAAGD,KAAK,CAAC1B,CAAD,CAAtB;AAA2B2B,IAAAA,UAAU,CAACC,UAAX,GAAwBD,UAAU,CAACC,UAAX,IAAyB,KAAjD;AAAwDD,IAAAA,UAAU,CAACE,YAAX,GAA0B,IAA1B;AAAgC,QAAI,WAAWF,UAAf,EAA2BA,UAAU,CAACG,QAAX,GAAsB,IAAtB;AAA4BX,IAAAA,MAAM,CAACY,cAAP,CAAsBN,MAAtB,EAA8BE,UAAU,CAACK,GAAzC,EAA8CL,UAA9C;AAA4D;AAAE;;AAE7T,SAASM,YAAT,CAAsBV,WAAtB,EAAmCW,UAAnC,EAA+CC,WAA/C,EAA4D;AAAE,MAAID,UAAJ,EAAgBV,iBAAiB,CAACD,WAAW,CAACa,SAAb,EAAwBF,UAAxB,CAAjB;AAAsD,MAAIC,WAAJ,EAAiBX,iBAAiB,CAACD,WAAD,EAAcY,WAAd,CAAjB;AAA6C,SAAOZ,WAAP;AAAqB;;AAEvN,IAAIc,IAAI,GAAG9B,MAAM,CAAC,MAAD,CAAjB;;AAEA,SAAS+B,cAAT,CAAwBC,KAAxB,EAA+BC,SAA/B,EAA0C;AACxC,MAAIC,IAAI,GAAGC,SAAS,CAAC5B,MAAV,GAAmB,CAAnB,IAAwB4B,SAAS,CAAC,CAAD,CAAT,KAAiBrC,SAAzC,GAAqDqC,SAAS,CAAC,CAAD,CAA9D,GAAoE,EAA/E;AAAA,MACIC,MAAM,GAAGF,IAAI,CAACG,CADlB;AAAA,MAEIA,CAAC,GAAGD,MAAM,KAAK,KAAK,CAAhB,GAAoB,CAApB,GAAwBA,MAFhC;AAAA,MAGIE,gBAAgB,GAAGJ,IAAI,CAACI,gBAH5B;;AAKA,SAAO,UAAUvB,QAAV,EAAoB;AACzB,QAAIuB,gBAAJ,EAAsB;AACpB,UAAIvB,QAAQ,CAACwB,KAAT,CAAexB,QAAQ,CAACyB,GAAxB,MAAiCF,gBAArC,EAAuD;AACrD,YAAIN,KAAK,CAACS,IAAN,CAAW1B,QAAQ,CAACwB,KAAT,CAAeG,SAAf,CAAyB3B,QAAQ,CAACyB,GAAT,GAAe,CAAxC,EAA2CzB,QAAQ,CAACyB,GAApD,CAAX,CAAJ,EAA0E;AACxE;AACA,iBAAO,CAACzB,QAAQ,CAAC4B,YAAV,EAAwB,CAAxB,CAAP;AACD,SAHD,MAGO;AACL,iBAAO,CAAC5B,QAAQ,CAAC6B,gBAAV,EAA4B,CAA5B,CAAP;AACD;AACF;AACF;;AAED,QAAIZ,KAAK,CAACS,IAAN,CAAW1B,QAAQ,CAACwB,KAAT,CAAeG,SAAf,CAAyB3B,QAAQ,CAACyB,GAAlC,EAAuCzB,QAAQ,CAACyB,GAAT,GAAeH,CAAtD,CAAX,CAAJ,EAA0E;AACxE,aAAO,CAACJ,SAAD,EAAYI,CAAZ,CAAP;AACD;;AAED,WAAO,KAAP;AACD,GAjBD;AAkBD;;AAED,SAASQ,kBAAT,CAA4BC,WAA5B,EAAyC;AACvC,SAAO,YAAY;AACjB,QAAIC,KAAK,GAAG,KAAZ;AACA,QAAIC,kBAAkB,GAAGF,WAAW,CAAC,KAAKH,YAAN,CAAX,IAAkC,EAA3D;;AAEA,SAAK,IAAIlD,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGuD,kBAAkB,CAACzC,MAAvC,EAA+C,EAAEd,CAAjD,EAAoD;AAClDsD,MAAAA,KAAK,GAAGC,kBAAkB,CAACvD,CAAD,CAAlB,CAAsB,IAAtB,CAAR;;AAEA,UAAIsD,KAAK,KAAK,KAAd,EAAqB;AACnB;AACD;AACF;;AAED,WAAOA,KAAK,IAAI,CAAC,KAAKH,gBAAN,EAAwB,CAAxB,CAAhB;AACD,GAbD;AAcD;;AAED,IAAIK,GAAG,GACP,aACA,YAAY;AACV,WAASA,GAAT,CAAaH,WAAb,EAA0BI,YAA1B,EAAwC;AACtC,QAAIN,gBAAgB,GAAGT,SAAS,CAAC5B,MAAV,GAAmB,CAAnB,IAAwB4B,SAAS,CAAC,CAAD,CAAT,KAAiBrC,SAAzC,GAAqDqC,SAAS,CAAC,CAAD,CAA9D,GAAoEL,IAA3F;;AAEAhB,IAAAA,eAAe,CAAC,IAAD,EAAOmC,GAAP,CAAf;;AAEA,SAAKC,YAAL,GAAoBA,YAApB;AACA,SAAKN,gBAAL,GAAwBA,gBAAxB;;AAEA,QAAIA,gBAAgB,KAAKd,IAArB,IAA6B,CAACgB,WAAW,CAACF,gBAAD,CAA7C,EAAiE;AAC/DE,MAAAA,WAAW,CAACF,gBAAD,CAAX,GAAgC,EAAhC;AACD;;AAED,SAAKO,kBAAL,GAA0BN,kBAAkB,CAACO,IAAnB,CAAwB,IAAxB,EAA8BN,WAA9B,CAA1B;AACD;;AAEDpB,EAAAA,YAAY,CAACuB,GAAD,EAAM,CAAC;AACjBxB,IAAAA,GAAG,EAAE,KADY;AAEjBnB,IAAAA,KAAK,EAAE,SAAS+C,GAAT,CAAad,KAAb,EAAoB;AACzB,WAAKA,KAAL,GAAaA,KAAb;AACA,WAAKC,GAAL,GAAW,CAAX;AACA,WAAKG,YAAL,GAAoB,KAAKO,YAAzB;AACA,UAAI5C,KAAK,GAAG,EAAZ;AACA,UAAIgD,SAAJ,EAAerB,SAAf;;AAEA,aAAO,KAAKU,YAAL,KAAsB,KAAKC,gBAA3B,IAA+C,KAAKJ,GAAL,GAAW,KAAKD,KAAL,CAAWhC,MAA5E,EAAoF;AAClF,YAAIgD,mBAAmB,GAAG,KAAKJ,kBAAL,EAA1B;;AAEA,YAAIK,oBAAoB,GAAG/C,cAAc,CAAC8C,mBAAD,EAAsB,CAAtB,CAAzC;;AAEAtB,QAAAA,SAAS,GAAGuB,oBAAoB,CAAC,CAAD,CAAhC;AACAF,QAAAA,SAAS,GAAGE,oBAAoB,CAAC,CAAD,CAAhC;AACAlD,QAAAA,KAAK,IAAI,KAAKiC,KAAL,CAAWG,SAAX,CAAqB,KAAKF,GAA1B,EAA+B,KAAKA,GAAL,IAAYc,SAA3C,CAAT;AACA,aAAKX,YAAL,GAAoBV,SAApB;AACD;;AAED,aAAO3B,KAAP;AACD;AArBgB,GAAD,CAAN,CAAZ;;AAwBA,SAAO2C,GAAP;AACD,CAzCD,EAFA;;AA6CA,SAASlB,cAAT,EAAyBkB,GAAzB","sourcesContent":["function _sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _slicedToArray(arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return _sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nvar STOP = Symbol(\"STOP\");\n\nfunction makeTransition(regex, nextState) {\n  var _ref = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {},\n      _ref$n = _ref.n,\n      n = _ref$n === void 0 ? 1 : _ref$n,\n      allowedSeparator = _ref.allowedSeparator;\n\n  return function (instance) {\n    if (allowedSeparator) {\n      if (instance.input[instance.ptr] === allowedSeparator) {\n        if (regex.test(instance.input.substring(instance.ptr - 1, instance.ptr))) {\n          // Consume the separator and stay in current state\n          return [instance.currentState, 1];\n        } else {\n          return [instance.terminatingState, 0];\n        }\n      }\n    }\n\n    if (regex.test(instance.input.substring(instance.ptr, instance.ptr + n))) {\n      return [nextState, n];\n    }\n\n    return false;\n  };\n}\n\nfunction combineTransitions(transitions) {\n  return function () {\n    var match = false;\n    var currentTransitions = transitions[this.currentState] || [];\n\n    for (var i = 0; i < currentTransitions.length; ++i) {\n      match = currentTransitions[i](this);\n\n      if (match !== false) {\n        break;\n      }\n    }\n\n    return match || [this.terminatingState, 0];\n  };\n}\n\nvar FSM =\n/*#__PURE__*/\nfunction () {\n  function FSM(transitions, initialState) {\n    var terminatingState = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : STOP;\n\n    _classCallCheck(this, FSM);\n\n    this.initialState = initialState;\n    this.terminatingState = terminatingState;\n\n    if (terminatingState === STOP || !transitions[terminatingState]) {\n      transitions[terminatingState] = [];\n    }\n\n    this.transitionFunction = combineTransitions.call(this, transitions);\n  }\n\n  _createClass(FSM, [{\n    key: \"run\",\n    value: function run(input) {\n      this.input = input;\n      this.ptr = 0;\n      this.currentState = this.initialState;\n      var value = \"\";\n      var eatLength, nextState;\n\n      while (this.currentState !== this.terminatingState && this.ptr < this.input.length) {\n        var _transitionFunction = this.transitionFunction();\n\n        var _transitionFunction2 = _slicedToArray(_transitionFunction, 2);\n\n        nextState = _transitionFunction2[0];\n        eatLength = _transitionFunction2[1];\n        value += this.input.substring(this.ptr, this.ptr += eatLength);\n        this.currentState = nextState;\n      }\n\n      return value;\n    }\n  }]);\n\n  return FSM;\n}();\n\nexport { makeTransition, FSM };"]},"metadata":{},"sourceType":"module"}