{"ast":null,"code":"/*\n\tMIT License http://www.opensource.org/licenses/mit-license.php\n\tAuthor Tobias Koppers @sokra\n*/\n\"use strict\";\n\nconst util = require(\"util\");\n\nconst {\n  OriginalSource,\n  RawSource\n} = require(\"webpack-sources\");\n\nconst Module = require(\"./Module\");\n\nconst AsyncDependenciesBlock = require(\"./AsyncDependenciesBlock\");\n\nconst Template = require(\"./Template\");\n\nconst contextify = require(\"./util/identifier\").contextify;\n/** @typedef {\"sync\" | \"eager\" | \"weak\" | \"async-weak\" | \"lazy\" | \"lazy-once\"} ContextMode Context mode */\n\n/** @typedef {import(\"./dependencies/ContextElementDependency\")} ContextElementDependency */\n\n/**\n * @callback ResolveDependenciesCallback\n * @param {Error=} err\n * @param {ContextElementDependency[]} dependencies\n */\n\n/**\n * @callback ResolveDependencies\n * @param {TODO} fs\n * @param {TODO} options\n * @param {ResolveDependenciesCallback} callback\n */\n\n\nclass ContextModule extends Module {\n  // type ContextMode = \"sync\" | \"eager\" | \"weak\" | \"async-weak\" | \"lazy\" | \"lazy-once\"\n  // type ContextOptions = { resource: string, recursive: boolean, regExp: RegExp, addon?: string, mode?: ContextMode, chunkName?: string, include?: RegExp, exclude?: RegExp, groupOptions?: Object }\n  // resolveDependencies: (fs: FS, options: ContextOptions, (err: Error?, dependencies: Dependency[]) => void) => void\n  // options: ContextOptions\n\n  /**\n   * @param {ResolveDependencies} resolveDependencies function to get dependencies in this context\n   * @param {TODO} options options object\n   */\n  constructor(resolveDependencies, options) {\n    let resource;\n    let resourceQuery;\n    const queryIdx = options.resource.indexOf(\"?\");\n\n    if (queryIdx >= 0) {\n      resource = options.resource.substr(0, queryIdx);\n      resourceQuery = options.resource.substr(queryIdx);\n    } else {\n      resource = options.resource;\n      resourceQuery = \"\";\n    }\n\n    super(\"javascript/dynamic\", resource); // Info from Factory\n\n    this.resolveDependencies = resolveDependencies;\n    this.options = Object.assign({}, options, {\n      resource: resource,\n      resourceQuery: resourceQuery\n    });\n\n    if (options.resolveOptions !== undefined) {\n      this.resolveOptions = options.resolveOptions;\n    } // Info from Build\n\n\n    this._contextDependencies = new Set([this.context]);\n\n    if (typeof options.mode !== \"string\") {\n      throw new Error(\"options.mode is a required option\");\n    }\n\n    this._identifier = this._createIdentifier();\n  }\n\n  updateCacheModule(module) {\n    this.resolveDependencies = module.resolveDependencies;\n    this.options = module.options;\n    this.resolveOptions = module.resolveOptions;\n  }\n\n  prettyRegExp(regexString) {\n    // remove the \"/\" at the front and the beginning\n    // \"/foo/\" -> \"foo\"\n    return regexString.substring(1, regexString.length - 1);\n  }\n\n  _createIdentifier() {\n    let identifier = this.context;\n\n    if (this.options.resourceQuery) {\n      identifier += ` ${this.options.resourceQuery}`;\n    }\n\n    if (this.options.mode) {\n      identifier += ` ${this.options.mode}`;\n    }\n\n    if (!this.options.recursive) {\n      identifier += \" nonrecursive\";\n    }\n\n    if (this.options.addon) {\n      identifier += ` ${this.options.addon}`;\n    }\n\n    if (this.options.regExp) {\n      identifier += ` ${this.options.regExp}`;\n    }\n\n    if (this.options.include) {\n      identifier += ` include: ${this.options.include}`;\n    }\n\n    if (this.options.exclude) {\n      identifier += ` exclude: ${this.options.exclude}`;\n    }\n\n    if (this.options.groupOptions) {\n      identifier += ` groupOptions: ${JSON.stringify(this.options.groupOptions)}`;\n    }\n\n    if (this.options.namespaceObject === \"strict\") {\n      identifier += \" strict namespace object\";\n    } else if (this.options.namespaceObject) {\n      identifier += \" namespace object\";\n    }\n\n    return identifier;\n  }\n\n  identifier() {\n    return this._identifier;\n  }\n\n  readableIdentifier(requestShortener) {\n    let identifier = requestShortener.shorten(this.context);\n\n    if (this.options.resourceQuery) {\n      identifier += ` ${this.options.resourceQuery}`;\n    }\n\n    if (this.options.mode) {\n      identifier += ` ${this.options.mode}`;\n    }\n\n    if (!this.options.recursive) {\n      identifier += \" nonrecursive\";\n    }\n\n    if (this.options.addon) {\n      identifier += ` ${requestShortener.shorten(this.options.addon)}`;\n    }\n\n    if (this.options.regExp) {\n      identifier += ` ${this.prettyRegExp(this.options.regExp + \"\")}`;\n    }\n\n    if (this.options.include) {\n      identifier += ` include: ${this.prettyRegExp(this.options.include + \"\")}`;\n    }\n\n    if (this.options.exclude) {\n      identifier += ` exclude: ${this.prettyRegExp(this.options.exclude + \"\")}`;\n    }\n\n    if (this.options.groupOptions) {\n      const groupOptions = this.options.groupOptions;\n\n      for (const key of Object.keys(groupOptions)) {\n        identifier += ` ${key}: ${groupOptions[key]}`;\n      }\n    }\n\n    if (this.options.namespaceObject === \"strict\") {\n      identifier += \" strict namespace object\";\n    } else if (this.options.namespaceObject) {\n      identifier += \" namespace object\";\n    }\n\n    return identifier;\n  }\n\n  libIdent(options) {\n    let identifier = contextify(options.context, this.context);\n\n    if (this.options.mode) {\n      identifier += ` ${this.options.mode}`;\n    }\n\n    if (this.options.recursive) {\n      identifier += \" recursive\";\n    }\n\n    if (this.options.addon) {\n      identifier += ` ${contextify(options.context, this.options.addon)}`;\n    }\n\n    if (this.options.regExp) {\n      identifier += ` ${this.prettyRegExp(this.options.regExp + \"\")}`;\n    }\n\n    if (this.options.include) {\n      identifier += ` include: ${this.prettyRegExp(this.options.include + \"\")}`;\n    }\n\n    if (this.options.exclude) {\n      identifier += ` exclude: ${this.prettyRegExp(this.options.exclude + \"\")}`;\n    }\n\n    return identifier;\n  }\n\n  needRebuild(fileTimestamps, contextTimestamps) {\n    const ts = contextTimestamps.get(this.context);\n\n    if (!ts) {\n      return true;\n    }\n\n    return ts >= this.buildInfo.builtTime;\n  }\n\n  build(options, compilation, resolver, fs, callback) {\n    this.built = true;\n    this.buildMeta = {};\n    this.buildInfo = {\n      builtTime: Date.now(),\n      contextDependencies: this._contextDependencies\n    };\n    this.resolveDependencies(fs, this.options, (err, dependencies) => {\n      if (err) return callback(err); // abort if something failed\n      // this will create an empty context\n\n      if (!dependencies) {\n        callback();\n        return;\n      } // enhance dependencies with meta info\n\n\n      for (const dep of dependencies) {\n        dep.loc = {\n          name: dep.userRequest\n        };\n        dep.request = this.options.addon + dep.request;\n      }\n\n      if (this.options.mode === \"sync\" || this.options.mode === \"eager\") {\n        // if we have an sync or eager context\n        // just add all dependencies and continue\n        this.dependencies = dependencies;\n      } else if (this.options.mode === \"lazy-once\") {\n        // for the lazy-once mode create a new async dependency block\n        // and add that block to this context\n        if (dependencies.length > 0) {\n          const block = new AsyncDependenciesBlock(Object.assign({}, this.options.groupOptions, {\n            name: this.options.chunkName\n          }), this);\n\n          for (const dep of dependencies) {\n            block.addDependency(dep);\n          }\n\n          this.addBlock(block);\n        }\n      } else if (this.options.mode === \"weak\" || this.options.mode === \"async-weak\") {\n        // we mark all dependencies as weak\n        for (const dep of dependencies) {\n          dep.weak = true;\n        }\n\n        this.dependencies = dependencies;\n      } else if (this.options.mode === \"lazy\") {\n        // if we are lazy create a new async dependency block per dependency\n        // and add all blocks to this context\n        let index = 0;\n\n        for (const dep of dependencies) {\n          let chunkName = this.options.chunkName;\n\n          if (chunkName) {\n            if (!/\\[(index|request)\\]/.test(chunkName)) {\n              chunkName += \"[index]\";\n            }\n\n            chunkName = chunkName.replace(/\\[index\\]/g, index++);\n            chunkName = chunkName.replace(/\\[request\\]/g, Template.toPath(dep.userRequest));\n          }\n\n          const block = new AsyncDependenciesBlock(Object.assign({}, this.options.groupOptions, {\n            name: chunkName\n          }), dep.module, dep.loc, dep.userRequest);\n          block.addDependency(dep);\n          this.addBlock(block);\n        }\n      } else {\n        callback(new Error(`Unsupported mode \"${this.options.mode}\" in context`));\n        return;\n      }\n\n      callback();\n    });\n  }\n\n  getUserRequestMap(dependencies) {\n    // if we filter first we get a new array\n    // therefor we dont need to create a clone of dependencies explicitly\n    // therefore the order of this is !important!\n    return dependencies.filter(dependency => dependency.module).sort((a, b) => {\n      if (a.userRequest === b.userRequest) {\n        return 0;\n      }\n\n      return a.userRequest < b.userRequest ? -1 : 1;\n    }).reduce((map, dep) => {\n      map[dep.userRequest] = dep.module.id;\n      return map;\n    }, Object.create(null));\n  }\n\n  getFakeMap(dependencies) {\n    if (!this.options.namespaceObject) {\n      return 9;\n    } // if we filter first we get a new array\n    // therefor we dont need to create a clone of dependencies explicitly\n    // therefore the order of this is !important!\n\n\n    let hasNonHarmony = false;\n    let hasNamespace = false;\n    let hasNamed = false;\n    const fakeMap = dependencies.filter(dependency => dependency.module).sort((a, b) => {\n      return b.module.id - a.module.id;\n    }).reduce((map, dep) => {\n      const exportsType = dep.module.buildMeta && dep.module.buildMeta.exportsType;\n      const id = dep.module.id;\n\n      if (!exportsType) {\n        map[id] = this.options.namespaceObject === \"strict\" ? 1 : 7;\n        hasNonHarmony = true;\n      } else if (exportsType === \"namespace\") {\n        map[id] = 9;\n        hasNamespace = true;\n      } else if (exportsType === \"named\") {\n        map[id] = 3;\n        hasNamed = true;\n      }\n\n      return map;\n    }, Object.create(null));\n\n    if (!hasNamespace && hasNonHarmony && !hasNamed) {\n      return this.options.namespaceObject === \"strict\" ? 1 : 7;\n    }\n\n    if (hasNamespace && !hasNonHarmony && !hasNamed) {\n      return 9;\n    }\n\n    if (!hasNamespace && !hasNonHarmony && hasNamed) {\n      return 3;\n    }\n\n    if (!hasNamespace && !hasNonHarmony && !hasNamed) {\n      return 9;\n    }\n\n    return fakeMap;\n  }\n\n  getFakeMapInitStatement(fakeMap) {\n    return typeof fakeMap === \"object\" ? `var fakeMap = ${JSON.stringify(fakeMap, null, \"\\t\")};` : \"\";\n  }\n\n  getReturn(type) {\n    if (type === 9) {\n      return \"__webpack_require__(id)\";\n    }\n\n    return `__webpack_require__.t(id, ${type})`;\n  }\n\n  getReturnModuleObjectSource(fakeMap, fakeMapDataExpression = \"fakeMap[id]\") {\n    if (typeof fakeMap === \"number\") {\n      return `return ${this.getReturn(fakeMap)};`;\n    }\n\n    return `return __webpack_require__.t(id, ${fakeMapDataExpression})`;\n  }\n\n  getSyncSource(dependencies, id) {\n    const map = this.getUserRequestMap(dependencies);\n    const fakeMap = this.getFakeMap(dependencies);\n    const returnModuleObject = this.getReturnModuleObjectSource(fakeMap);\n    return `var map = ${JSON.stringify(map, null, \"\\t\")};\n${this.getFakeMapInitStatement(fakeMap)}\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\t${returnModuleObject}\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = ${JSON.stringify(id)};`;\n  }\n\n  getWeakSyncSource(dependencies, id) {\n    const map = this.getUserRequestMap(dependencies);\n    const fakeMap = this.getFakeMap(dependencies);\n    const returnModuleObject = this.getReturnModuleObjectSource(fakeMap);\n    return `var map = ${JSON.stringify(map, null, \"\\t\")};\n${this.getFakeMapInitStatement(fakeMap)}\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\tif(!__webpack_require__.m[id]) {\n\t\tvar e = new Error(\"Module '\" + req + \"' ('\" + id + \"') is not available (weak dependency)\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\t${returnModuleObject}\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nwebpackContext.id = ${JSON.stringify(id)};\nmodule.exports = webpackContext;`;\n  }\n\n  getAsyncWeakSource(dependencies, id) {\n    const map = this.getUserRequestMap(dependencies);\n    const fakeMap = this.getFakeMap(dependencies);\n    const returnModuleObject = this.getReturnModuleObjectSource(fakeMap);\n    return `var map = ${JSON.stringify(map, null, \"\\t\")};\n${this.getFakeMapInitStatement(fakeMap)}\n\nfunction webpackAsyncContext(req) {\n\treturn webpackAsyncContextResolve(req).then(function(id) {\n\t\tif(!__webpack_require__.m[id]) {\n\t\t\tvar e = new Error(\"Module '\" + req + \"' ('\" + id + \"') is not available (weak dependency)\");\n\t\t\te.code = 'MODULE_NOT_FOUND';\n\t\t\tthrow e;\n\t\t}\n\t\t${returnModuleObject}\n\t});\n}\nfunction webpackAsyncContextResolve(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tif(!__webpack_require__.o(map, req)) {\n\t\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\t\te.code = 'MODULE_NOT_FOUND';\n\t\t\tthrow e;\n\t\t}\n\t\treturn map[req];\n\t});\n}\nwebpackAsyncContext.keys = function webpackAsyncContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackAsyncContext.resolve = webpackAsyncContextResolve;\nwebpackAsyncContext.id = ${JSON.stringify(id)};\nmodule.exports = webpackAsyncContext;`;\n  }\n\n  getEagerSource(dependencies, id) {\n    const map = this.getUserRequestMap(dependencies);\n    const fakeMap = this.getFakeMap(dependencies);\n    const thenFunction = fakeMap !== 9 ? `function(id) {\n\t\t${this.getReturnModuleObjectSource(fakeMap)}\n\t}` : \"__webpack_require__\";\n    return `var map = ${JSON.stringify(map, null, \"\\t\")};\n${this.getFakeMapInitStatement(fakeMap)}\n\nfunction webpackAsyncContext(req) {\n\treturn webpackAsyncContextResolve(req).then(${thenFunction});\n}\nfunction webpackAsyncContextResolve(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tif(!__webpack_require__.o(map, req)) {\n\t\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\t\te.code = 'MODULE_NOT_FOUND';\n\t\t\tthrow e;\n\t\t}\n\t\treturn map[req];\n\t});\n}\nwebpackAsyncContext.keys = function webpackAsyncContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackAsyncContext.resolve = webpackAsyncContextResolve;\nwebpackAsyncContext.id = ${JSON.stringify(id)};\nmodule.exports = webpackAsyncContext;`;\n  }\n\n  getLazyOnceSource(block, dependencies, id, runtimeTemplate) {\n    const promise = runtimeTemplate.blockPromise({\n      block,\n      message: \"lazy-once context\"\n    });\n    const map = this.getUserRequestMap(dependencies);\n    const fakeMap = this.getFakeMap(dependencies);\n    const thenFunction = fakeMap !== 9 ? `function(id) {\n\t\t${this.getReturnModuleObjectSource(fakeMap)};\n\t}` : \"__webpack_require__\";\n    return `var map = ${JSON.stringify(map, null, \"\\t\")};\n${this.getFakeMapInitStatement(fakeMap)}\n\nfunction webpackAsyncContext(req) {\n\treturn webpackAsyncContextResolve(req).then(${thenFunction});\n}\nfunction webpackAsyncContextResolve(req) {\n\treturn ${promise}.then(function() {\n\t\tif(!__webpack_require__.o(map, req)) {\n\t\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\t\te.code = 'MODULE_NOT_FOUND';\n\t\t\tthrow e;\n\t\t}\n\t\treturn map[req];\n\t});\n}\nwebpackAsyncContext.keys = function webpackAsyncContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackAsyncContext.resolve = webpackAsyncContextResolve;\nwebpackAsyncContext.id = ${JSON.stringify(id)};\nmodule.exports = webpackAsyncContext;`;\n  }\n\n  getLazySource(blocks, id) {\n    let hasMultipleOrNoChunks = false;\n    let hasNoChunk = true;\n    const fakeMap = this.getFakeMap(blocks.map(b => b.dependencies[0]));\n    const hasFakeMap = typeof fakeMap === \"object\";\n    const map = blocks.filter(block => block.dependencies[0].module).map(block => {\n      const chunks = block.chunkGroup ? block.chunkGroup.chunks : [];\n\n      if (chunks.length > 0) {\n        hasNoChunk = false;\n      }\n\n      if (chunks.length !== 1) {\n        hasMultipleOrNoChunks = true;\n      }\n\n      return {\n        dependency: block.dependencies[0],\n        block: block,\n        userRequest: block.dependencies[0].userRequest,\n        chunks\n      };\n    }).sort((a, b) => {\n      if (a.userRequest === b.userRequest) return 0;\n      return a.userRequest < b.userRequest ? -1 : 1;\n    }).reduce((map, item) => {\n      const chunks = item.chunks;\n\n      if (hasNoChunk && !hasFakeMap) {\n        map[item.userRequest] = item.dependency.module.id;\n      } else {\n        const arrayStart = [item.dependency.module.id];\n\n        if (typeof fakeMap === \"object\") {\n          arrayStart.push(fakeMap[item.dependency.module.id]);\n        }\n\n        map[item.userRequest] = arrayStart.concat(chunks.map(chunk => chunk.id));\n      }\n\n      return map;\n    }, Object.create(null));\n    const shortMode = hasNoChunk && !hasFakeMap;\n    const chunksStartPosition = hasFakeMap ? 2 : 1;\n    const requestPrefix = hasNoChunk ? \"Promise.resolve()\" : hasMultipleOrNoChunks ? `Promise.all(ids.slice(${chunksStartPosition}).map(__webpack_require__.e))` : `__webpack_require__.e(ids[${chunksStartPosition}])`;\n    const returnModuleObject = this.getReturnModuleObjectSource(fakeMap, shortMode ? \"invalid\" : \"ids[1]\");\n    const webpackAsyncContext = requestPrefix === \"Promise.resolve()\" ? `${shortMode ? \"\" : \"\"}\nfunction webpackAsyncContext(req) {\n\treturn Promise.resolve().then(function() {\n\t\tif(!__webpack_require__.o(map, req)) {\n\t\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\t\te.code = 'MODULE_NOT_FOUND';\n\t\t\tthrow e;\n\t\t}\n\n\t\t${shortMode ? \"var id = map[req];\" : \"var ids = map[req], id = ids[0];\"}\n\t\t${returnModuleObject}\n\t});\n}` : `function webpackAsyncContext(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\treturn Promise.resolve().then(function() {\n\t\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\t\te.code = 'MODULE_NOT_FOUND';\n\t\t\tthrow e;\n\t\t});\n\t}\n\n\tvar ids = map[req], id = ids[0];\n\treturn ${requestPrefix}.then(function() {\n\t\t${returnModuleObject}\n\t});\n}`;\n    return `var map = ${JSON.stringify(map, null, \"\\t\")};\n${webpackAsyncContext}\nwebpackAsyncContext.keys = function webpackAsyncContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackAsyncContext.id = ${JSON.stringify(id)};\nmodule.exports = webpackAsyncContext;`;\n  }\n\n  getSourceForEmptyContext(id) {\n    return `function webpackEmptyContext(req) {\n\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\te.code = 'MODULE_NOT_FOUND';\n\tthrow e;\n}\nwebpackEmptyContext.keys = function() { return []; };\nwebpackEmptyContext.resolve = webpackEmptyContext;\nmodule.exports = webpackEmptyContext;\nwebpackEmptyContext.id = ${JSON.stringify(id)};`;\n  }\n\n  getSourceForEmptyAsyncContext(id) {\n    return `function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = ${JSON.stringify(id)};`;\n  }\n\n  getSourceString(asyncMode, runtimeTemplate) {\n    if (asyncMode === \"lazy\") {\n      if (this.blocks && this.blocks.length > 0) {\n        return this.getLazySource(this.blocks, this.id);\n      }\n\n      return this.getSourceForEmptyAsyncContext(this.id);\n    }\n\n    if (asyncMode === \"eager\") {\n      if (this.dependencies && this.dependencies.length > 0) {\n        return this.getEagerSource(this.dependencies, this.id);\n      }\n\n      return this.getSourceForEmptyAsyncContext(this.id);\n    }\n\n    if (asyncMode === \"lazy-once\") {\n      const block = this.blocks[0];\n\n      if (block) {\n        return this.getLazyOnceSource(block, block.dependencies, this.id, runtimeTemplate);\n      }\n\n      return this.getSourceForEmptyAsyncContext(this.id);\n    }\n\n    if (asyncMode === \"async-weak\") {\n      if (this.dependencies && this.dependencies.length > 0) {\n        return this.getAsyncWeakSource(this.dependencies, this.id);\n      }\n\n      return this.getSourceForEmptyAsyncContext(this.id);\n    }\n\n    if (asyncMode === \"weak\") {\n      if (this.dependencies && this.dependencies.length > 0) {\n        return this.getWeakSyncSource(this.dependencies, this.id);\n      }\n    }\n\n    if (this.dependencies && this.dependencies.length > 0) {\n      return this.getSyncSource(this.dependencies, this.id);\n    }\n\n    return this.getSourceForEmptyContext(this.id);\n  }\n\n  getSource(sourceString) {\n    if (this.useSourceMap) {\n      return new OriginalSource(sourceString, this.identifier());\n    }\n\n    return new RawSource(sourceString);\n  }\n\n  source(dependencyTemplates, runtimeTemplate) {\n    return this.getSource(this.getSourceString(this.options.mode, runtimeTemplate));\n  }\n\n  size() {\n    // base penalty\n    const initialSize = 160; // if we dont have dependencies we stop here.\n\n    return this.dependencies.reduce((size, dependency) => {\n      const element = dependency;\n      return size + 5 + element.userRequest.length;\n    }, initialSize);\n  }\n\n} // TODO remove in webpack 5\n\n\nObject.defineProperty(ContextModule.prototype, \"recursive\", {\n  configurable: false,\n  get: util.deprecate(\n  /**\n   * @deprecated\n   * @this {ContextModule}\n   * @returns {boolean} is recursive\n   */\n  function () {\n    return this.options.recursive;\n  }, \"ContextModule.recursive has been moved to ContextModule.options.recursive\"),\n  set: util.deprecate(\n  /**\n   * @deprecated\n   * @this {ContextModule}\n   * @param {boolean} value is recursive\n   * @returns {void}\n   */\n  function (value) {\n    this.options.recursive = value;\n  }, \"ContextModule.recursive has been moved to ContextModule.options.recursive\")\n}); // TODO remove in webpack 5\n\nObject.defineProperty(ContextModule.prototype, \"regExp\", {\n  configurable: false,\n  get: util.deprecate(\n  /**\n   * @deprecated\n   * @this {ContextModule}\n   * @returns {RegExp} regular expression\n   */\n  function () {\n    return this.options.regExp;\n  }, \"ContextModule.regExp has been moved to ContextModule.options.regExp\"),\n  set: util.deprecate(\n  /**\n   * @deprecated\n   * @this {ContextModule}\n   * @param {RegExp} value Regular expression\n   * @returns {void}\n   */\n  function (value) {\n    this.options.regExp = value;\n  }, \"ContextModule.regExp has been moved to ContextModule.options.regExp\")\n}); // TODO remove in webpack 5\n\nObject.defineProperty(ContextModule.prototype, \"addon\", {\n  configurable: false,\n  get: util.deprecate(\n  /**\n   * @deprecated\n   * @this {ContextModule}\n   * @returns {string} addon\n   */\n  function () {\n    return this.options.addon;\n  }, \"ContextModule.addon has been moved to ContextModule.options.addon\"),\n  set: util.deprecate(\n  /**\n   * @deprecated\n   * @this {ContextModule}\n   * @param {string} value addon\n   * @returns {void}\n   */\n  function (value) {\n    this.options.addon = value;\n  }, \"ContextModule.addon has been moved to ContextModule.options.addon\")\n}); // TODO remove in webpack 5\n\nObject.defineProperty(ContextModule.prototype, \"async\", {\n  configurable: false,\n  get: util.deprecate(\n  /**\n   * @deprecated\n   * @this {ContextModule}\n   * @returns {boolean} is async\n   */\n  function () {\n    return this.options.mode;\n  }, \"ContextModule.async has been moved to ContextModule.options.mode\"),\n  set: util.deprecate(\n  /**\n   * @deprecated\n   * @this {ContextModule}\n   * @param {ContextMode} value Context mode\n   * @returns {void}\n   */\n  function (value) {\n    this.options.mode = value;\n  }, \"ContextModule.async has been moved to ContextModule.options.mode\")\n}); // TODO remove in webpack 5\n\nObject.defineProperty(ContextModule.prototype, \"chunkName\", {\n  configurable: false,\n  get: util.deprecate(\n  /**\n   * @deprecated\n   * @this {ContextModule}\n   * @returns {string} chunk name\n   */\n  function () {\n    return this.options.chunkName;\n  }, \"ContextModule.chunkName has been moved to ContextModule.options.chunkName\"),\n  set: util.deprecate(\n  /**\n   * @deprecated\n   * @this {ContextModule}\n   * @param {string} value chunk name\n   * @returns {void}\n   */\n  function (value) {\n    this.options.chunkName = value;\n  }, \"ContextModule.chunkName has been moved to ContextModule.options.chunkName\")\n});\nmodule.exports = ContextModule;","map":{"version":3,"sources":["/Users/hamzakhan/Documents/twitter-react/twitter/node_modules/webpack/lib/ContextModule.js"],"names":["util","require","OriginalSource","RawSource","Module","AsyncDependenciesBlock","Template","contextify","ContextModule","constructor","resolveDependencies","options","resource","resourceQuery","queryIdx","indexOf","substr","Object","assign","resolveOptions","undefined","_contextDependencies","Set","context","mode","Error","_identifier","_createIdentifier","updateCacheModule","module","prettyRegExp","regexString","substring","length","identifier","recursive","addon","regExp","include","exclude","groupOptions","JSON","stringify","namespaceObject","readableIdentifier","requestShortener","shorten","key","keys","libIdent","needRebuild","fileTimestamps","contextTimestamps","ts","get","buildInfo","builtTime","build","compilation","resolver","fs","callback","built","buildMeta","Date","now","contextDependencies","err","dependencies","dep","loc","name","userRequest","request","block","chunkName","addDependency","addBlock","weak","index","test","replace","toPath","getUserRequestMap","filter","dependency","sort","a","b","reduce","map","id","create","getFakeMap","hasNonHarmony","hasNamespace","hasNamed","fakeMap","exportsType","getFakeMapInitStatement","getReturn","type","getReturnModuleObjectSource","fakeMapDataExpression","getSyncSource","returnModuleObject","getWeakSyncSource","getAsyncWeakSource","getEagerSource","thenFunction","getLazyOnceSource","runtimeTemplate","promise","blockPromise","message","getLazySource","blocks","hasMultipleOrNoChunks","hasNoChunk","hasFakeMap","chunks","chunkGroup","item","arrayStart","push","concat","chunk","shortMode","chunksStartPosition","requestPrefix","webpackAsyncContext","getSourceForEmptyContext","getSourceForEmptyAsyncContext","getSourceString","asyncMode","getSource","sourceString","useSourceMap","source","dependencyTemplates","size","initialSize","element","defineProperty","prototype","configurable","deprecate","set","value","exports"],"mappings":"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","sourcesContent":["/*\n\tMIT License http://www.opensource.org/licenses/mit-license.php\n\tAuthor Tobias Koppers @sokra\n*/\n\"use strict\";\nconst util = require(\"util\");\nconst { OriginalSource, RawSource } = require(\"webpack-sources\");\nconst Module = require(\"./Module\");\nconst AsyncDependenciesBlock = require(\"./AsyncDependenciesBlock\");\nconst Template = require(\"./Template\");\nconst contextify = require(\"./util/identifier\").contextify;\n\n/** @typedef {\"sync\" | \"eager\" | \"weak\" | \"async-weak\" | \"lazy\" | \"lazy-once\"} ContextMode Context mode */\n/** @typedef {import(\"./dependencies/ContextElementDependency\")} ContextElementDependency */\n\n/**\n * @callback ResolveDependenciesCallback\n * @param {Error=} err\n * @param {ContextElementDependency[]} dependencies\n */\n\n/**\n * @callback ResolveDependencies\n * @param {TODO} fs\n * @param {TODO} options\n * @param {ResolveDependenciesCallback} callback\n */\n\nclass ContextModule extends Module {\n\t// type ContextMode = \"sync\" | \"eager\" | \"weak\" | \"async-weak\" | \"lazy\" | \"lazy-once\"\n\t// type ContextOptions = { resource: string, recursive: boolean, regExp: RegExp, addon?: string, mode?: ContextMode, chunkName?: string, include?: RegExp, exclude?: RegExp, groupOptions?: Object }\n\t// resolveDependencies: (fs: FS, options: ContextOptions, (err: Error?, dependencies: Dependency[]) => void) => void\n\t// options: ContextOptions\n\t/**\n\t * @param {ResolveDependencies} resolveDependencies function to get dependencies in this context\n\t * @param {TODO} options options object\n\t */\n\tconstructor(resolveDependencies, options) {\n\t\tlet resource;\n\t\tlet resourceQuery;\n\t\tconst queryIdx = options.resource.indexOf(\"?\");\n\t\tif (queryIdx >= 0) {\n\t\t\tresource = options.resource.substr(0, queryIdx);\n\t\t\tresourceQuery = options.resource.substr(queryIdx);\n\t\t} else {\n\t\t\tresource = options.resource;\n\t\t\tresourceQuery = \"\";\n\t\t}\n\n\t\tsuper(\"javascript/dynamic\", resource);\n\n\t\t// Info from Factory\n\t\tthis.resolveDependencies = resolveDependencies;\n\t\tthis.options = Object.assign({}, options, {\n\t\t\tresource: resource,\n\t\t\tresourceQuery: resourceQuery\n\t\t});\n\t\tif (options.resolveOptions !== undefined) {\n\t\t\tthis.resolveOptions = options.resolveOptions;\n\t\t}\n\n\t\t// Info from Build\n\t\tthis._contextDependencies = new Set([this.context]);\n\n\t\tif (typeof options.mode !== \"string\") {\n\t\t\tthrow new Error(\"options.mode is a required option\");\n\t\t}\n\n\t\tthis._identifier = this._createIdentifier();\n\t}\n\n\tupdateCacheModule(module) {\n\t\tthis.resolveDependencies = module.resolveDependencies;\n\t\tthis.options = module.options;\n\t\tthis.resolveOptions = module.resolveOptions;\n\t}\n\n\tprettyRegExp(regexString) {\n\t\t// remove the \"/\" at the front and the beginning\n\t\t// \"/foo/\" -> \"foo\"\n\t\treturn regexString.substring(1, regexString.length - 1);\n\t}\n\n\t_createIdentifier() {\n\t\tlet identifier = this.context;\n\t\tif (this.options.resourceQuery) {\n\t\t\tidentifier += ` ${this.options.resourceQuery}`;\n\t\t}\n\t\tif (this.options.mode) {\n\t\t\tidentifier += ` ${this.options.mode}`;\n\t\t}\n\t\tif (!this.options.recursive) {\n\t\t\tidentifier += \" nonrecursive\";\n\t\t}\n\t\tif (this.options.addon) {\n\t\t\tidentifier += ` ${this.options.addon}`;\n\t\t}\n\t\tif (this.options.regExp) {\n\t\t\tidentifier += ` ${this.options.regExp}`;\n\t\t}\n\t\tif (this.options.include) {\n\t\t\tidentifier += ` include: ${this.options.include}`;\n\t\t}\n\t\tif (this.options.exclude) {\n\t\t\tidentifier += ` exclude: ${this.options.exclude}`;\n\t\t}\n\t\tif (this.options.groupOptions) {\n\t\t\tidentifier += ` groupOptions: ${JSON.stringify(\n\t\t\t\tthis.options.groupOptions\n\t\t\t)}`;\n\t\t}\n\t\tif (this.options.namespaceObject === \"strict\") {\n\t\t\tidentifier += \" strict namespace object\";\n\t\t} else if (this.options.namespaceObject) {\n\t\t\tidentifier += \" namespace object\";\n\t\t}\n\n\t\treturn identifier;\n\t}\n\n\tidentifier() {\n\t\treturn this._identifier;\n\t}\n\n\treadableIdentifier(requestShortener) {\n\t\tlet identifier = requestShortener.shorten(this.context);\n\t\tif (this.options.resourceQuery) {\n\t\t\tidentifier += ` ${this.options.resourceQuery}`;\n\t\t}\n\t\tif (this.options.mode) {\n\t\t\tidentifier += ` ${this.options.mode}`;\n\t\t}\n\t\tif (!this.options.recursive) {\n\t\t\tidentifier += \" nonrecursive\";\n\t\t}\n\t\tif (this.options.addon) {\n\t\t\tidentifier += ` ${requestShortener.shorten(this.options.addon)}`;\n\t\t}\n\t\tif (this.options.regExp) {\n\t\t\tidentifier += ` ${this.prettyRegExp(this.options.regExp + \"\")}`;\n\t\t}\n\t\tif (this.options.include) {\n\t\t\tidentifier += ` include: ${this.prettyRegExp(this.options.include + \"\")}`;\n\t\t}\n\t\tif (this.options.exclude) {\n\t\t\tidentifier += ` exclude: ${this.prettyRegExp(this.options.exclude + \"\")}`;\n\t\t}\n\t\tif (this.options.groupOptions) {\n\t\t\tconst groupOptions = this.options.groupOptions;\n\t\t\tfor (const key of Object.keys(groupOptions)) {\n\t\t\t\tidentifier += ` ${key}: ${groupOptions[key]}`;\n\t\t\t}\n\t\t}\n\t\tif (this.options.namespaceObject === \"strict\") {\n\t\t\tidentifier += \" strict namespace object\";\n\t\t} else if (this.options.namespaceObject) {\n\t\t\tidentifier += \" namespace object\";\n\t\t}\n\n\t\treturn identifier;\n\t}\n\n\tlibIdent(options) {\n\t\tlet identifier = contextify(options.context, this.context);\n\t\tif (this.options.mode) {\n\t\t\tidentifier += ` ${this.options.mode}`;\n\t\t}\n\t\tif (this.options.recursive) {\n\t\t\tidentifier += \" recursive\";\n\t\t}\n\t\tif (this.options.addon) {\n\t\t\tidentifier += ` ${contextify(options.context, this.options.addon)}`;\n\t\t}\n\t\tif (this.options.regExp) {\n\t\t\tidentifier += ` ${this.prettyRegExp(this.options.regExp + \"\")}`;\n\t\t}\n\t\tif (this.options.include) {\n\t\t\tidentifier += ` include: ${this.prettyRegExp(this.options.include + \"\")}`;\n\t\t}\n\t\tif (this.options.exclude) {\n\t\t\tidentifier += ` exclude: ${this.prettyRegExp(this.options.exclude + \"\")}`;\n\t\t}\n\n\t\treturn identifier;\n\t}\n\n\tneedRebuild(fileTimestamps, contextTimestamps) {\n\t\tconst ts = contextTimestamps.get(this.context);\n\t\tif (!ts) {\n\t\t\treturn true;\n\t\t}\n\n\t\treturn ts >= this.buildInfo.builtTime;\n\t}\n\n\tbuild(options, compilation, resolver, fs, callback) {\n\t\tthis.built = true;\n\t\tthis.buildMeta = {};\n\t\tthis.buildInfo = {\n\t\t\tbuiltTime: Date.now(),\n\t\t\tcontextDependencies: this._contextDependencies\n\t\t};\n\t\tthis.resolveDependencies(fs, this.options, (err, dependencies) => {\n\t\t\tif (err) return callback(err);\n\n\t\t\t// abort if something failed\n\t\t\t// this will create an empty context\n\t\t\tif (!dependencies) {\n\t\t\t\tcallback();\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// enhance dependencies with meta info\n\t\t\tfor (const dep of dependencies) {\n\t\t\t\tdep.loc = {\n\t\t\t\t\tname: dep.userRequest\n\t\t\t\t};\n\t\t\t\tdep.request = this.options.addon + dep.request;\n\t\t\t}\n\n\t\t\tif (this.options.mode === \"sync\" || this.options.mode === \"eager\") {\n\t\t\t\t// if we have an sync or eager context\n\t\t\t\t// just add all dependencies and continue\n\t\t\t\tthis.dependencies = dependencies;\n\t\t\t} else if (this.options.mode === \"lazy-once\") {\n\t\t\t\t// for the lazy-once mode create a new async dependency block\n\t\t\t\t// and add that block to this context\n\t\t\t\tif (dependencies.length > 0) {\n\t\t\t\t\tconst block = new AsyncDependenciesBlock(\n\t\t\t\t\t\tObject.assign({}, this.options.groupOptions, {\n\t\t\t\t\t\t\tname: this.options.chunkName\n\t\t\t\t\t\t}),\n\t\t\t\t\t\tthis\n\t\t\t\t\t);\n\t\t\t\t\tfor (const dep of dependencies) {\n\t\t\t\t\t\tblock.addDependency(dep);\n\t\t\t\t\t}\n\t\t\t\t\tthis.addBlock(block);\n\t\t\t\t}\n\t\t\t} else if (\n\t\t\t\tthis.options.mode === \"weak\" ||\n\t\t\t\tthis.options.mode === \"async-weak\"\n\t\t\t) {\n\t\t\t\t// we mark all dependencies as weak\n\t\t\t\tfor (const dep of dependencies) {\n\t\t\t\t\tdep.weak = true;\n\t\t\t\t}\n\t\t\t\tthis.dependencies = dependencies;\n\t\t\t} else if (this.options.mode === \"lazy\") {\n\t\t\t\t// if we are lazy create a new async dependency block per dependency\n\t\t\t\t// and add all blocks to this context\n\t\t\t\tlet index = 0;\n\t\t\t\tfor (const dep of dependencies) {\n\t\t\t\t\tlet chunkName = this.options.chunkName;\n\t\t\t\t\tif (chunkName) {\n\t\t\t\t\t\tif (!/\\[(index|request)\\]/.test(chunkName)) {\n\t\t\t\t\t\t\tchunkName += \"[index]\";\n\t\t\t\t\t\t}\n\t\t\t\t\t\tchunkName = chunkName.replace(/\\[index\\]/g, index++);\n\t\t\t\t\t\tchunkName = chunkName.replace(\n\t\t\t\t\t\t\t/\\[request\\]/g,\n\t\t\t\t\t\t\tTemplate.toPath(dep.userRequest)\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\t\t\t\t\tconst block = new AsyncDependenciesBlock(\n\t\t\t\t\t\tObject.assign({}, this.options.groupOptions, {\n\t\t\t\t\t\t\tname: chunkName\n\t\t\t\t\t\t}),\n\t\t\t\t\t\tdep.module,\n\t\t\t\t\t\tdep.loc,\n\t\t\t\t\t\tdep.userRequest\n\t\t\t\t\t);\n\t\t\t\t\tblock.addDependency(dep);\n\t\t\t\t\tthis.addBlock(block);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tcallback(\n\t\t\t\t\tnew Error(`Unsupported mode \"${this.options.mode}\" in context`)\n\t\t\t\t);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tcallback();\n\t\t});\n\t}\n\n\tgetUserRequestMap(dependencies) {\n\t\t// if we filter first we get a new array\n\t\t// therefor we dont need to create a clone of dependencies explicitly\n\t\t// therefore the order of this is !important!\n\t\treturn dependencies\n\t\t\t.filter(dependency => dependency.module)\n\t\t\t.sort((a, b) => {\n\t\t\t\tif (a.userRequest === b.userRequest) {\n\t\t\t\t\treturn 0;\n\t\t\t\t}\n\t\t\t\treturn a.userRequest < b.userRequest ? -1 : 1;\n\t\t\t})\n\t\t\t.reduce((map, dep) => {\n\t\t\t\tmap[dep.userRequest] = dep.module.id;\n\t\t\t\treturn map;\n\t\t\t}, Object.create(null));\n\t}\n\n\tgetFakeMap(dependencies) {\n\t\tif (!this.options.namespaceObject) {\n\t\t\treturn 9;\n\t\t}\n\t\t// if we filter first we get a new array\n\t\t// therefor we dont need to create a clone of dependencies explicitly\n\t\t// therefore the order of this is !important!\n\t\tlet hasNonHarmony = false;\n\t\tlet hasNamespace = false;\n\t\tlet hasNamed = false;\n\t\tconst fakeMap = dependencies\n\t\t\t.filter(dependency => dependency.module)\n\t\t\t.sort((a, b) => {\n\t\t\t\treturn b.module.id - a.module.id;\n\t\t\t})\n\t\t\t.reduce((map, dep) => {\n\t\t\t\tconst exportsType =\n\t\t\t\t\tdep.module.buildMeta && dep.module.buildMeta.exportsType;\n\t\t\t\tconst id = dep.module.id;\n\t\t\t\tif (!exportsType) {\n\t\t\t\t\tmap[id] = this.options.namespaceObject === \"strict\" ? 1 : 7;\n\t\t\t\t\thasNonHarmony = true;\n\t\t\t\t} else if (exportsType === \"namespace\") {\n\t\t\t\t\tmap[id] = 9;\n\t\t\t\t\thasNamespace = true;\n\t\t\t\t} else if (exportsType === \"named\") {\n\t\t\t\t\tmap[id] = 3;\n\t\t\t\t\thasNamed = true;\n\t\t\t\t}\n\t\t\t\treturn map;\n\t\t\t}, Object.create(null));\n\t\tif (!hasNamespace && hasNonHarmony && !hasNamed) {\n\t\t\treturn this.options.namespaceObject === \"strict\" ? 1 : 7;\n\t\t}\n\t\tif (hasNamespace && !hasNonHarmony && !hasNamed) {\n\t\t\treturn 9;\n\t\t}\n\t\tif (!hasNamespace && !hasNonHarmony && hasNamed) {\n\t\t\treturn 3;\n\t\t}\n\t\tif (!hasNamespace && !hasNonHarmony && !hasNamed) {\n\t\t\treturn 9;\n\t\t}\n\t\treturn fakeMap;\n\t}\n\n\tgetFakeMapInitStatement(fakeMap) {\n\t\treturn typeof fakeMap === \"object\"\n\t\t\t? `var fakeMap = ${JSON.stringify(fakeMap, null, \"\\t\")};`\n\t\t\t: \"\";\n\t}\n\n\tgetReturn(type) {\n\t\tif (type === 9) {\n\t\t\treturn \"__webpack_require__(id)\";\n\t\t}\n\t\treturn `__webpack_require__.t(id, ${type})`;\n\t}\n\n\tgetReturnModuleObjectSource(fakeMap, fakeMapDataExpression = \"fakeMap[id]\") {\n\t\tif (typeof fakeMap === \"number\") {\n\t\t\treturn `return ${this.getReturn(fakeMap)};`;\n\t\t}\n\t\treturn `return __webpack_require__.t(id, ${fakeMapDataExpression})`;\n\t}\n\n\tgetSyncSource(dependencies, id) {\n\t\tconst map = this.getUserRequestMap(dependencies);\n\t\tconst fakeMap = this.getFakeMap(dependencies);\n\t\tconst returnModuleObject = this.getReturnModuleObjectSource(fakeMap);\n\n\t\treturn `var map = ${JSON.stringify(map, null, \"\\t\")};\n${this.getFakeMapInitStatement(fakeMap)}\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\t${returnModuleObject}\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = ${JSON.stringify(id)};`;\n\t}\n\n\tgetWeakSyncSource(dependencies, id) {\n\t\tconst map = this.getUserRequestMap(dependencies);\n\t\tconst fakeMap = this.getFakeMap(dependencies);\n\t\tconst returnModuleObject = this.getReturnModuleObjectSource(fakeMap);\n\n\t\treturn `var map = ${JSON.stringify(map, null, \"\\t\")};\n${this.getFakeMapInitStatement(fakeMap)}\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\tif(!__webpack_require__.m[id]) {\n\t\tvar e = new Error(\"Module '\" + req + \"' ('\" + id + \"') is not available (weak dependency)\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\t${returnModuleObject}\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nwebpackContext.id = ${JSON.stringify(id)};\nmodule.exports = webpackContext;`;\n\t}\n\n\tgetAsyncWeakSource(dependencies, id) {\n\t\tconst map = this.getUserRequestMap(dependencies);\n\t\tconst fakeMap = this.getFakeMap(dependencies);\n\t\tconst returnModuleObject = this.getReturnModuleObjectSource(fakeMap);\n\n\t\treturn `var map = ${JSON.stringify(map, null, \"\\t\")};\n${this.getFakeMapInitStatement(fakeMap)}\n\nfunction webpackAsyncContext(req) {\n\treturn webpackAsyncContextResolve(req).then(function(id) {\n\t\tif(!__webpack_require__.m[id]) {\n\t\t\tvar e = new Error(\"Module '\" + req + \"' ('\" + id + \"') is not available (weak dependency)\");\n\t\t\te.code = 'MODULE_NOT_FOUND';\n\t\t\tthrow e;\n\t\t}\n\t\t${returnModuleObject}\n\t});\n}\nfunction webpackAsyncContextResolve(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tif(!__webpack_require__.o(map, req)) {\n\t\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\t\te.code = 'MODULE_NOT_FOUND';\n\t\t\tthrow e;\n\t\t}\n\t\treturn map[req];\n\t});\n}\nwebpackAsyncContext.keys = function webpackAsyncContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackAsyncContext.resolve = webpackAsyncContextResolve;\nwebpackAsyncContext.id = ${JSON.stringify(id)};\nmodule.exports = webpackAsyncContext;`;\n\t}\n\n\tgetEagerSource(dependencies, id) {\n\t\tconst map = this.getUserRequestMap(dependencies);\n\t\tconst fakeMap = this.getFakeMap(dependencies);\n\t\tconst thenFunction =\n\t\t\tfakeMap !== 9\n\t\t\t\t? `function(id) {\n\t\t${this.getReturnModuleObjectSource(fakeMap)}\n\t}`\n\t\t\t\t: \"__webpack_require__\";\n\t\treturn `var map = ${JSON.stringify(map, null, \"\\t\")};\n${this.getFakeMapInitStatement(fakeMap)}\n\nfunction webpackAsyncContext(req) {\n\treturn webpackAsyncContextResolve(req).then(${thenFunction});\n}\nfunction webpackAsyncContextResolve(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tif(!__webpack_require__.o(map, req)) {\n\t\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\t\te.code = 'MODULE_NOT_FOUND';\n\t\t\tthrow e;\n\t\t}\n\t\treturn map[req];\n\t});\n}\nwebpackAsyncContext.keys = function webpackAsyncContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackAsyncContext.resolve = webpackAsyncContextResolve;\nwebpackAsyncContext.id = ${JSON.stringify(id)};\nmodule.exports = webpackAsyncContext;`;\n\t}\n\n\tgetLazyOnceSource(block, dependencies, id, runtimeTemplate) {\n\t\tconst promise = runtimeTemplate.blockPromise({\n\t\t\tblock,\n\t\t\tmessage: \"lazy-once context\"\n\t\t});\n\t\tconst map = this.getUserRequestMap(dependencies);\n\t\tconst fakeMap = this.getFakeMap(dependencies);\n\t\tconst thenFunction =\n\t\t\tfakeMap !== 9\n\t\t\t\t? `function(id) {\n\t\t${this.getReturnModuleObjectSource(fakeMap)};\n\t}`\n\t\t\t\t: \"__webpack_require__\";\n\n\t\treturn `var map = ${JSON.stringify(map, null, \"\\t\")};\n${this.getFakeMapInitStatement(fakeMap)}\n\nfunction webpackAsyncContext(req) {\n\treturn webpackAsyncContextResolve(req).then(${thenFunction});\n}\nfunction webpackAsyncContextResolve(req) {\n\treturn ${promise}.then(function() {\n\t\tif(!__webpack_require__.o(map, req)) {\n\t\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\t\te.code = 'MODULE_NOT_FOUND';\n\t\t\tthrow e;\n\t\t}\n\t\treturn map[req];\n\t});\n}\nwebpackAsyncContext.keys = function webpackAsyncContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackAsyncContext.resolve = webpackAsyncContextResolve;\nwebpackAsyncContext.id = ${JSON.stringify(id)};\nmodule.exports = webpackAsyncContext;`;\n\t}\n\n\tgetLazySource(blocks, id) {\n\t\tlet hasMultipleOrNoChunks = false;\n\t\tlet hasNoChunk = true;\n\t\tconst fakeMap = this.getFakeMap(blocks.map(b => b.dependencies[0]));\n\t\tconst hasFakeMap = typeof fakeMap === \"object\";\n\t\tconst map = blocks\n\t\t\t.filter(block => block.dependencies[0].module)\n\t\t\t.map(block => {\n\t\t\t\tconst chunks = block.chunkGroup ? block.chunkGroup.chunks : [];\n\t\t\t\tif (chunks.length > 0) {\n\t\t\t\t\thasNoChunk = false;\n\t\t\t\t}\n\t\t\t\tif (chunks.length !== 1) {\n\t\t\t\t\thasMultipleOrNoChunks = true;\n\t\t\t\t}\n\t\t\t\treturn {\n\t\t\t\t\tdependency: block.dependencies[0],\n\t\t\t\t\tblock: block,\n\t\t\t\t\tuserRequest: block.dependencies[0].userRequest,\n\t\t\t\t\tchunks\n\t\t\t\t};\n\t\t\t})\n\t\t\t.sort((a, b) => {\n\t\t\t\tif (a.userRequest === b.userRequest) return 0;\n\t\t\t\treturn a.userRequest < b.userRequest ? -1 : 1;\n\t\t\t})\n\t\t\t.reduce((map, item) => {\n\t\t\t\tconst chunks = item.chunks;\n\n\t\t\t\tif (hasNoChunk && !hasFakeMap) {\n\t\t\t\t\tmap[item.userRequest] = item.dependency.module.id;\n\t\t\t\t} else {\n\t\t\t\t\tconst arrayStart = [item.dependency.module.id];\n\t\t\t\t\tif (typeof fakeMap === \"object\") {\n\t\t\t\t\t\tarrayStart.push(fakeMap[item.dependency.module.id]);\n\t\t\t\t\t}\n\t\t\t\t\tmap[item.userRequest] = arrayStart.concat(\n\t\t\t\t\t\tchunks.map(chunk => chunk.id)\n\t\t\t\t\t);\n\t\t\t\t}\n\n\t\t\t\treturn map;\n\t\t\t}, Object.create(null));\n\n\t\tconst shortMode = hasNoChunk && !hasFakeMap;\n\t\tconst chunksStartPosition = hasFakeMap ? 2 : 1;\n\t\tconst requestPrefix = hasNoChunk\n\t\t\t? \"Promise.resolve()\"\n\t\t\t: hasMultipleOrNoChunks\n\t\t\t? `Promise.all(ids.slice(${chunksStartPosition}).map(__webpack_require__.e))`\n\t\t\t: `__webpack_require__.e(ids[${chunksStartPosition}])`;\n\t\tconst returnModuleObject = this.getReturnModuleObjectSource(\n\t\t\tfakeMap,\n\t\t\tshortMode ? \"invalid\" : \"ids[1]\"\n\t\t);\n\n\t\tconst webpackAsyncContext =\n\t\t\trequestPrefix === \"Promise.resolve()\"\n\t\t\t\t? `${shortMode ? \"\" : \"\"}\nfunction webpackAsyncContext(req) {\n\treturn Promise.resolve().then(function() {\n\t\tif(!__webpack_require__.o(map, req)) {\n\t\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\t\te.code = 'MODULE_NOT_FOUND';\n\t\t\tthrow e;\n\t\t}\n\n\t\t${shortMode ? \"var id = map[req];\" : \"var ids = map[req], id = ids[0];\"}\n\t\t${returnModuleObject}\n\t});\n}`\n\t\t\t\t: `function webpackAsyncContext(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\treturn Promise.resolve().then(function() {\n\t\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\t\te.code = 'MODULE_NOT_FOUND';\n\t\t\tthrow e;\n\t\t});\n\t}\n\n\tvar ids = map[req], id = ids[0];\n\treturn ${requestPrefix}.then(function() {\n\t\t${returnModuleObject}\n\t});\n}`;\n\n\t\treturn `var map = ${JSON.stringify(map, null, \"\\t\")};\n${webpackAsyncContext}\nwebpackAsyncContext.keys = function webpackAsyncContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackAsyncContext.id = ${JSON.stringify(id)};\nmodule.exports = webpackAsyncContext;`;\n\t}\n\n\tgetSourceForEmptyContext(id) {\n\t\treturn `function webpackEmptyContext(req) {\n\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\te.code = 'MODULE_NOT_FOUND';\n\tthrow e;\n}\nwebpackEmptyContext.keys = function() { return []; };\nwebpackEmptyContext.resolve = webpackEmptyContext;\nmodule.exports = webpackEmptyContext;\nwebpackEmptyContext.id = ${JSON.stringify(id)};`;\n\t}\n\n\tgetSourceForEmptyAsyncContext(id) {\n\t\treturn `function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = ${JSON.stringify(id)};`;\n\t}\n\n\tgetSourceString(asyncMode, runtimeTemplate) {\n\t\tif (asyncMode === \"lazy\") {\n\t\t\tif (this.blocks && this.blocks.length > 0) {\n\t\t\t\treturn this.getLazySource(this.blocks, this.id);\n\t\t\t}\n\t\t\treturn this.getSourceForEmptyAsyncContext(this.id);\n\t\t}\n\t\tif (asyncMode === \"eager\") {\n\t\t\tif (this.dependencies && this.dependencies.length > 0) {\n\t\t\t\treturn this.getEagerSource(this.dependencies, this.id);\n\t\t\t}\n\t\t\treturn this.getSourceForEmptyAsyncContext(this.id);\n\t\t}\n\t\tif (asyncMode === \"lazy-once\") {\n\t\t\tconst block = this.blocks[0];\n\t\t\tif (block) {\n\t\t\t\treturn this.getLazyOnceSource(\n\t\t\t\t\tblock,\n\t\t\t\t\tblock.dependencies,\n\t\t\t\t\tthis.id,\n\t\t\t\t\truntimeTemplate\n\t\t\t\t);\n\t\t\t}\n\t\t\treturn this.getSourceForEmptyAsyncContext(this.id);\n\t\t}\n\t\tif (asyncMode === \"async-weak\") {\n\t\t\tif (this.dependencies && this.dependencies.length > 0) {\n\t\t\t\treturn this.getAsyncWeakSource(this.dependencies, this.id);\n\t\t\t}\n\t\t\treturn this.getSourceForEmptyAsyncContext(this.id);\n\t\t}\n\t\tif (asyncMode === \"weak\") {\n\t\t\tif (this.dependencies && this.dependencies.length > 0) {\n\t\t\t\treturn this.getWeakSyncSource(this.dependencies, this.id);\n\t\t\t}\n\t\t}\n\t\tif (this.dependencies && this.dependencies.length > 0) {\n\t\t\treturn this.getSyncSource(this.dependencies, this.id);\n\t\t}\n\t\treturn this.getSourceForEmptyContext(this.id);\n\t}\n\n\tgetSource(sourceString) {\n\t\tif (this.useSourceMap) {\n\t\t\treturn new OriginalSource(sourceString, this.identifier());\n\t\t}\n\t\treturn new RawSource(sourceString);\n\t}\n\n\tsource(dependencyTemplates, runtimeTemplate) {\n\t\treturn this.getSource(\n\t\t\tthis.getSourceString(this.options.mode, runtimeTemplate)\n\t\t);\n\t}\n\n\tsize() {\n\t\t// base penalty\n\t\tconst initialSize = 160;\n\n\t\t// if we dont have dependencies we stop here.\n\t\treturn this.dependencies.reduce((size, dependency) => {\n\t\t\tconst element = /** @type {ContextElementDependency} */ (dependency);\n\t\t\treturn size + 5 + element.userRequest.length;\n\t\t}, initialSize);\n\t}\n}\n\n// TODO remove in webpack 5\nObject.defineProperty(ContextModule.prototype, \"recursive\", {\n\tconfigurable: false,\n\tget: util.deprecate(\n\t\t/**\n\t\t * @deprecated\n\t\t * @this {ContextModule}\n\t\t * @returns {boolean} is recursive\n\t\t */\n\t\tfunction() {\n\t\t\treturn this.options.recursive;\n\t\t},\n\t\t\"ContextModule.recursive has been moved to ContextModule.options.recursive\"\n\t),\n\tset: util.deprecate(\n\t\t/**\n\t\t * @deprecated\n\t\t * @this {ContextModule}\n\t\t * @param {boolean} value is recursive\n\t\t * @returns {void}\n\t\t */\n\t\tfunction(value) {\n\t\t\tthis.options.recursive = value;\n\t\t},\n\t\t\"ContextModule.recursive has been moved to ContextModule.options.recursive\"\n\t)\n});\n\n// TODO remove in webpack 5\nObject.defineProperty(ContextModule.prototype, \"regExp\", {\n\tconfigurable: false,\n\tget: util.deprecate(\n\t\t/**\n\t\t * @deprecated\n\t\t * @this {ContextModule}\n\t\t * @returns {RegExp} regular expression\n\t\t */\n\t\tfunction() {\n\t\t\treturn this.options.regExp;\n\t\t},\n\t\t\"ContextModule.regExp has been moved to ContextModule.options.regExp\"\n\t),\n\tset: util.deprecate(\n\t\t/**\n\t\t * @deprecated\n\t\t * @this {ContextModule}\n\t\t * @param {RegExp} value Regular expression\n\t\t * @returns {void}\n\t\t */\n\t\tfunction(value) {\n\t\t\tthis.options.regExp = value;\n\t\t},\n\t\t\"ContextModule.regExp has been moved to ContextModule.options.regExp\"\n\t)\n});\n\n// TODO remove in webpack 5\nObject.defineProperty(ContextModule.prototype, \"addon\", {\n\tconfigurable: false,\n\tget: util.deprecate(\n\t\t/**\n\t\t * @deprecated\n\t\t * @this {ContextModule}\n\t\t * @returns {string} addon\n\t\t */\n\t\tfunction() {\n\t\t\treturn this.options.addon;\n\t\t},\n\t\t\"ContextModule.addon has been moved to ContextModule.options.addon\"\n\t),\n\tset: util.deprecate(\n\t\t/**\n\t\t * @deprecated\n\t\t * @this {ContextModule}\n\t\t * @param {string} value addon\n\t\t * @returns {void}\n\t\t */\n\t\tfunction(value) {\n\t\t\tthis.options.addon = value;\n\t\t},\n\t\t\"ContextModule.addon has been moved to ContextModule.options.addon\"\n\t)\n});\n\n// TODO remove in webpack 5\nObject.defineProperty(ContextModule.prototype, \"async\", {\n\tconfigurable: false,\n\tget: util.deprecate(\n\t\t/**\n\t\t * @deprecated\n\t\t * @this {ContextModule}\n\t\t * @returns {boolean} is async\n\t\t */\n\t\tfunction() {\n\t\t\treturn this.options.mode;\n\t\t},\n\t\t\"ContextModule.async has been moved to ContextModule.options.mode\"\n\t),\n\tset: util.deprecate(\n\t\t/**\n\t\t * @deprecated\n\t\t * @this {ContextModule}\n\t\t * @param {ContextMode} value Context mode\n\t\t * @returns {void}\n\t\t */\n\t\tfunction(value) {\n\t\t\tthis.options.mode = value;\n\t\t},\n\t\t\"ContextModule.async has been moved to ContextModule.options.mode\"\n\t)\n});\n\n// TODO remove in webpack 5\nObject.defineProperty(ContextModule.prototype, \"chunkName\", {\n\tconfigurable: false,\n\tget: util.deprecate(\n\t\t/**\n\t\t * @deprecated\n\t\t * @this {ContextModule}\n\t\t * @returns {string} chunk name\n\t\t */\n\t\tfunction() {\n\t\t\treturn this.options.chunkName;\n\t\t},\n\t\t\"ContextModule.chunkName has been moved to ContextModule.options.chunkName\"\n\t),\n\tset: util.deprecate(\n\t\t/**\n\t\t * @deprecated\n\t\t * @this {ContextModule}\n\t\t * @param {string} value chunk name\n\t\t * @returns {void}\n\t\t */\n\t\tfunction(value) {\n\t\t\tthis.options.chunkName = value;\n\t\t},\n\t\t\"ContextModule.chunkName has been moved to ContextModule.options.chunkName\"\n\t)\n});\n\nmodule.exports = ContextModule;\n"]},"metadata":{},"sourceType":"script"}