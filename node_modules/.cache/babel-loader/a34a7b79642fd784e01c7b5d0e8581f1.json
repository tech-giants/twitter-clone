{"ast":null,"code":"var eos = require('end-of-stream');\n\nvar shift = require('stream-shift');\n\nmodule.exports = each;\n\nfunction each(stream, fn, cb) {\n  var want = true;\n  var error = null;\n  var ended = false;\n  var running = false;\n  var calling = false;\n  stream.on('readable', onreadable);\n  onreadable();\n  if (cb) eos(stream, {\n    readable: true,\n    writable: false\n  }, done);\n  return stream;\n\n  function done(err) {\n    if (!error) error = err;\n    ended = true;\n    if (!running) cb(error);\n  }\n\n  function onreadable() {\n    if (want) read();\n  }\n\n  function afterRead(err) {\n    running = false;\n\n    if (err) {\n      error = err;\n      if (ended) return cb(error);\n      stream.destroy(err);\n      return;\n    }\n\n    if (ended) return cb(error);\n    if (!calling) read();\n  }\n\n  function read() {\n    while (!running && !ended) {\n      want = false;\n      var data = shift(stream);\n      if (ended) return;\n\n      if (data === null) {\n        want = true;\n        return;\n      }\n\n      running = true;\n      calling = true;\n      fn(data, afterRead);\n      calling = false;\n    }\n  }\n}","map":{"version":3,"sources":["/Users/hamzakhan/Documents/twitter-react/twitter/node_modules/stream-each/index.js"],"names":["eos","require","shift","module","exports","each","stream","fn","cb","want","error","ended","running","calling","on","onreadable","readable","writable","done","err","read","afterRead","destroy","data"],"mappings":"AAAA,IAAIA,GAAG,GAAGC,OAAO,CAAC,eAAD,CAAjB;;AACA,IAAIC,KAAK,GAAGD,OAAO,CAAC,cAAD,CAAnB;;AAEAE,MAAM,CAACC,OAAP,GAAiBC,IAAjB;;AAEA,SAASA,IAAT,CAAeC,MAAf,EAAuBC,EAAvB,EAA2BC,EAA3B,EAA+B;AAC7B,MAAIC,IAAI,GAAG,IAAX;AACA,MAAIC,KAAK,GAAG,IAAZ;AACA,MAAIC,KAAK,GAAG,KAAZ;AACA,MAAIC,OAAO,GAAG,KAAd;AACA,MAAIC,OAAO,GAAG,KAAd;AAEAP,EAAAA,MAAM,CAACQ,EAAP,CAAU,UAAV,EAAsBC,UAAtB;AACAA,EAAAA,UAAU;AAEV,MAAIP,EAAJ,EAAQR,GAAG,CAACM,MAAD,EAAS;AAACU,IAAAA,QAAQ,EAAE,IAAX;AAAiBC,IAAAA,QAAQ,EAAE;AAA3B,GAAT,EAA4CC,IAA5C,CAAH;AACR,SAAOZ,MAAP;;AAEA,WAASY,IAAT,CAAeC,GAAf,EAAoB;AAClB,QAAI,CAACT,KAAL,EAAYA,KAAK,GAAGS,GAAR;AACZR,IAAAA,KAAK,GAAG,IAAR;AACA,QAAI,CAACC,OAAL,EAAcJ,EAAE,CAACE,KAAD,CAAF;AACf;;AAED,WAASK,UAAT,GAAuB;AACrB,QAAIN,IAAJ,EAAUW,IAAI;AACf;;AAED,WAASC,SAAT,CAAoBF,GAApB,EAAyB;AACvBP,IAAAA,OAAO,GAAG,KAAV;;AAEA,QAAIO,GAAJ,EAAS;AACPT,MAAAA,KAAK,GAAGS,GAAR;AACA,UAAIR,KAAJ,EAAW,OAAOH,EAAE,CAACE,KAAD,CAAT;AACXJ,MAAAA,MAAM,CAACgB,OAAP,CAAeH,GAAf;AACA;AACD;;AACD,QAAIR,KAAJ,EAAW,OAAOH,EAAE,CAACE,KAAD,CAAT;AACX,QAAI,CAACG,OAAL,EAAcO,IAAI;AACnB;;AAED,WAASA,IAAT,GAAiB;AACf,WAAO,CAACR,OAAD,IAAY,CAACD,KAApB,EAA2B;AACzBF,MAAAA,IAAI,GAAG,KAAP;AAEA,UAAIc,IAAI,GAAGrB,KAAK,CAACI,MAAD,CAAhB;AACA,UAAIK,KAAJ,EAAW;;AACX,UAAIY,IAAI,KAAK,IAAb,EAAmB;AACjBd,QAAAA,IAAI,GAAG,IAAP;AACA;AACD;;AAEDG,MAAAA,OAAO,GAAG,IAAV;AACAC,MAAAA,OAAO,GAAG,IAAV;AACAN,MAAAA,EAAE,CAACgB,IAAD,EAAOF,SAAP,CAAF;AACAR,MAAAA,OAAO,GAAG,KAAV;AACD;AACF;AACF","sourcesContent":["var eos = require('end-of-stream')\nvar shift = require('stream-shift')\n\nmodule.exports = each\n\nfunction each (stream, fn, cb) {\n  var want = true\n  var error = null\n  var ended = false\n  var running = false\n  var calling = false\n\n  stream.on('readable', onreadable)\n  onreadable()\n\n  if (cb) eos(stream, {readable: true, writable: false}, done)\n  return stream\n\n  function done (err) {\n    if (!error) error = err\n    ended = true\n    if (!running) cb(error)\n  }\n\n  function onreadable () {\n    if (want) read()\n  }\n\n  function afterRead (err) {\n    running = false\n\n    if (err) {\n      error = err\n      if (ended) return cb(error)\n      stream.destroy(err)\n      return\n    }\n    if (ended) return cb(error)\n    if (!calling) read()\n  }\n\n  function read () {\n    while (!running && !ended) {\n      want = false\n\n      var data = shift(stream)\n      if (ended) return\n      if (data === null) {\n        want = true\n        return\n      }\n\n      running = true\n      calling = true\n      fn(data, afterRead)\n      calling = false\n    }\n  }\n}\n"]},"metadata":{},"sourceType":"script"}