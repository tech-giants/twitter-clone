{"ast":null,"code":"/*\n\tMIT License http://www.opensource.org/licenses/mit-license.php\n\tAuthor Tobias Koppers @sokra\n*/\n\"use strict\";\n\nconst ImportContextDependency = require(\"./ImportContextDependency\");\n\nconst ImportWeakDependency = require(\"./ImportWeakDependency\");\n\nconst ImportDependenciesBlock = require(\"./ImportDependenciesBlock\");\n\nconst ImportEagerDependency = require(\"./ImportEagerDependency\");\n\nconst ContextDependencyHelpers = require(\"./ContextDependencyHelpers\");\n\nconst UnsupportedFeatureWarning = require(\"../UnsupportedFeatureWarning\");\n\nconst CommentCompilationWarning = require(\"../CommentCompilationWarning\");\n\nclass ImportParserPlugin {\n  constructor(options) {\n    this.options = options;\n  }\n\n  apply(parser) {\n    parser.hooks.importCall.tap(\"ImportParserPlugin\", expr => {\n      if (expr.arguments.length !== 1) {\n        throw new Error(\"Incorrect number of arguments provided to 'import(module: string) -> Promise'.\");\n      }\n\n      const param = parser.evaluateExpression(expr.arguments[0]);\n      let chunkName = null;\n      let mode = \"lazy\";\n      let include = null;\n      let exclude = null;\n      const groupOptions = {};\n      const {\n        options: importOptions,\n        errors: commentErrors\n      } = parser.parseCommentOptions(expr.range);\n\n      if (commentErrors) {\n        for (const e of commentErrors) {\n          const {\n            comment\n          } = e;\n          parser.state.module.warnings.push(new CommentCompilationWarning(`Compilation error while processing magic comment(-s): /*${comment.value}*/: ${e.message}`, parser.state.module, comment.loc));\n        }\n      }\n\n      if (importOptions) {\n        if (importOptions.webpackIgnore !== undefined) {\n          if (typeof importOptions.webpackIgnore !== \"boolean\") {\n            parser.state.module.warnings.push(new UnsupportedFeatureWarning(parser.state.module, `\\`webpackIgnore\\` expected a boolean, but received: ${importOptions.webpackIgnore}.`, expr.loc));\n          } else {\n            // Do not instrument `import()` if `webpackIgnore` is `true`\n            if (importOptions.webpackIgnore) {\n              return false;\n            }\n          }\n        }\n\n        if (importOptions.webpackChunkName !== undefined) {\n          if (typeof importOptions.webpackChunkName !== \"string\") {\n            parser.state.module.warnings.push(new UnsupportedFeatureWarning(parser.state.module, `\\`webpackChunkName\\` expected a string, but received: ${importOptions.webpackChunkName}.`, expr.loc));\n          } else {\n            chunkName = importOptions.webpackChunkName;\n          }\n        }\n\n        if (importOptions.webpackMode !== undefined) {\n          if (typeof importOptions.webpackMode !== \"string\") {\n            parser.state.module.warnings.push(new UnsupportedFeatureWarning(parser.state.module, `\\`webpackMode\\` expected a string, but received: ${importOptions.webpackMode}.`, expr.loc));\n          } else {\n            mode = importOptions.webpackMode;\n          }\n        }\n\n        if (importOptions.webpackPrefetch !== undefined) {\n          if (importOptions.webpackPrefetch === true) {\n            groupOptions.prefetchOrder = 0;\n          } else if (typeof importOptions.webpackPrefetch === \"number\") {\n            groupOptions.prefetchOrder = importOptions.webpackPrefetch;\n          } else {\n            parser.state.module.warnings.push(new UnsupportedFeatureWarning(parser.state.module, `\\`webpackPrefetch\\` expected true or a number, but received: ${importOptions.webpackPrefetch}.`, expr.loc));\n          }\n        }\n\n        if (importOptions.webpackPreload !== undefined) {\n          if (importOptions.webpackPreload === true) {\n            groupOptions.preloadOrder = 0;\n          } else if (typeof importOptions.webpackPreload === \"number\") {\n            groupOptions.preloadOrder = importOptions.webpackPreload;\n          } else {\n            parser.state.module.warnings.push(new UnsupportedFeatureWarning(parser.state.module, `\\`webpackPreload\\` expected true or a number, but received: ${importOptions.webpackPreload}.`, expr.loc));\n          }\n        }\n\n        if (importOptions.webpackInclude !== undefined) {\n          if (!importOptions.webpackInclude || importOptions.webpackInclude.constructor.name !== \"RegExp\") {\n            parser.state.module.warnings.push(new UnsupportedFeatureWarning(parser.state.module, `\\`webpackInclude\\` expected a regular expression, but received: ${importOptions.webpackInclude}.`, expr.loc));\n          } else {\n            include = new RegExp(importOptions.webpackInclude);\n          }\n        }\n\n        if (importOptions.webpackExclude !== undefined) {\n          if (!importOptions.webpackExclude || importOptions.webpackExclude.constructor.name !== \"RegExp\") {\n            parser.state.module.warnings.push(new UnsupportedFeatureWarning(parser.state.module, `\\`webpackExclude\\` expected a regular expression, but received: ${importOptions.webpackExclude}.`, expr.loc));\n          } else {\n            exclude = new RegExp(importOptions.webpackExclude);\n          }\n        }\n      }\n\n      if (param.isString()) {\n        if (mode !== \"lazy\" && mode !== \"eager\" && mode !== \"weak\") {\n          parser.state.module.warnings.push(new UnsupportedFeatureWarning(parser.state.module, `\\`webpackMode\\` expected 'lazy', 'eager' or 'weak', but received: ${mode}.`, expr.loc));\n        }\n\n        if (mode === \"eager\") {\n          const dep = new ImportEagerDependency(param.string, parser.state.module, expr.range);\n          parser.state.current.addDependency(dep);\n        } else if (mode === \"weak\") {\n          const dep = new ImportWeakDependency(param.string, parser.state.module, expr.range);\n          parser.state.current.addDependency(dep);\n        } else {\n          const depBlock = new ImportDependenciesBlock(param.string, expr.range, Object.assign(groupOptions, {\n            name: chunkName\n          }), parser.state.module, expr.loc, parser.state.module);\n          parser.state.current.addBlock(depBlock);\n        }\n\n        return true;\n      } else {\n        if (mode !== \"lazy\" && mode !== \"lazy-once\" && mode !== \"eager\" && mode !== \"weak\") {\n          parser.state.module.warnings.push(new UnsupportedFeatureWarning(parser.state.module, `\\`webpackMode\\` expected 'lazy', 'lazy-once', 'eager' or 'weak', but received: ${mode}.`, expr.loc));\n          mode = \"lazy\";\n        }\n\n        if (mode === \"weak\") {\n          mode = \"async-weak\";\n        }\n\n        const dep = ContextDependencyHelpers.create(ImportContextDependency, expr.range, param, expr, this.options, {\n          chunkName,\n          groupOptions,\n          include,\n          exclude,\n          mode,\n          namespaceObject: parser.state.module.buildMeta.strictHarmonyModule ? \"strict\" : true\n        }, parser);\n        if (!dep) return;\n        dep.loc = expr.loc;\n        dep.optional = !!parser.scope.inTry;\n        parser.state.current.addDependency(dep);\n        return true;\n      }\n    });\n  }\n\n}\n\nmodule.exports = ImportParserPlugin;","map":{"version":3,"sources":["/Users/hamzakhan/Documents/twitter-react/twitter/node_modules/webpack/lib/dependencies/ImportParserPlugin.js"],"names":["ImportContextDependency","require","ImportWeakDependency","ImportDependenciesBlock","ImportEagerDependency","ContextDependencyHelpers","UnsupportedFeatureWarning","CommentCompilationWarning","ImportParserPlugin","constructor","options","apply","parser","hooks","importCall","tap","expr","arguments","length","Error","param","evaluateExpression","chunkName","mode","include","exclude","groupOptions","importOptions","errors","commentErrors","parseCommentOptions","range","e","comment","state","module","warnings","push","value","message","loc","webpackIgnore","undefined","webpackChunkName","webpackMode","webpackPrefetch","prefetchOrder","webpackPreload","preloadOrder","webpackInclude","name","RegExp","webpackExclude","isString","dep","string","current","addDependency","depBlock","Object","assign","addBlock","create","namespaceObject","buildMeta","strictHarmonyModule","optional","scope","inTry","exports"],"mappings":"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","sourcesContent":["/*\n\tMIT License http://www.opensource.org/licenses/mit-license.php\n\tAuthor Tobias Koppers @sokra\n*/\n\"use strict\";\n\nconst ImportContextDependency = require(\"./ImportContextDependency\");\nconst ImportWeakDependency = require(\"./ImportWeakDependency\");\nconst ImportDependenciesBlock = require(\"./ImportDependenciesBlock\");\nconst ImportEagerDependency = require(\"./ImportEagerDependency\");\nconst ContextDependencyHelpers = require(\"./ContextDependencyHelpers\");\nconst UnsupportedFeatureWarning = require(\"../UnsupportedFeatureWarning\");\nconst CommentCompilationWarning = require(\"../CommentCompilationWarning\");\n\nclass ImportParserPlugin {\n\tconstructor(options) {\n\t\tthis.options = options;\n\t}\n\n\tapply(parser) {\n\t\tparser.hooks.importCall.tap(\"ImportParserPlugin\", expr => {\n\t\t\tif (expr.arguments.length !== 1) {\n\t\t\t\tthrow new Error(\n\t\t\t\t\t\"Incorrect number of arguments provided to 'import(module: string) -> Promise'.\"\n\t\t\t\t);\n\t\t\t}\n\n\t\t\tconst param = parser.evaluateExpression(expr.arguments[0]);\n\n\t\t\tlet chunkName = null;\n\t\t\tlet mode = \"lazy\";\n\t\t\tlet include = null;\n\t\t\tlet exclude = null;\n\t\t\tconst groupOptions = {};\n\n\t\t\tconst {\n\t\t\t\toptions: importOptions,\n\t\t\t\terrors: commentErrors\n\t\t\t} = parser.parseCommentOptions(expr.range);\n\n\t\t\tif (commentErrors) {\n\t\t\t\tfor (const e of commentErrors) {\n\t\t\t\t\tconst { comment } = e;\n\t\t\t\t\tparser.state.module.warnings.push(\n\t\t\t\t\t\tnew CommentCompilationWarning(\n\t\t\t\t\t\t\t`Compilation error while processing magic comment(-s): /*${comment.value}*/: ${e.message}`,\n\t\t\t\t\t\t\tparser.state.module,\n\t\t\t\t\t\t\tcomment.loc\n\t\t\t\t\t\t)\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (importOptions) {\n\t\t\t\tif (importOptions.webpackIgnore !== undefined) {\n\t\t\t\t\tif (typeof importOptions.webpackIgnore !== \"boolean\") {\n\t\t\t\t\t\tparser.state.module.warnings.push(\n\t\t\t\t\t\t\tnew UnsupportedFeatureWarning(\n\t\t\t\t\t\t\t\tparser.state.module,\n\t\t\t\t\t\t\t\t`\\`webpackIgnore\\` expected a boolean, but received: ${importOptions.webpackIgnore}.`,\n\t\t\t\t\t\t\t\texpr.loc\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t);\n\t\t\t\t\t} else {\n\t\t\t\t\t\t// Do not instrument `import()` if `webpackIgnore` is `true`\n\t\t\t\t\t\tif (importOptions.webpackIgnore) {\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (importOptions.webpackChunkName !== undefined) {\n\t\t\t\t\tif (typeof importOptions.webpackChunkName !== \"string\") {\n\t\t\t\t\t\tparser.state.module.warnings.push(\n\t\t\t\t\t\t\tnew UnsupportedFeatureWarning(\n\t\t\t\t\t\t\t\tparser.state.module,\n\t\t\t\t\t\t\t\t`\\`webpackChunkName\\` expected a string, but received: ${importOptions.webpackChunkName}.`,\n\t\t\t\t\t\t\t\texpr.loc\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tchunkName = importOptions.webpackChunkName;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (importOptions.webpackMode !== undefined) {\n\t\t\t\t\tif (typeof importOptions.webpackMode !== \"string\") {\n\t\t\t\t\t\tparser.state.module.warnings.push(\n\t\t\t\t\t\t\tnew UnsupportedFeatureWarning(\n\t\t\t\t\t\t\t\tparser.state.module,\n\t\t\t\t\t\t\t\t`\\`webpackMode\\` expected a string, but received: ${importOptions.webpackMode}.`,\n\t\t\t\t\t\t\t\texpr.loc\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tmode = importOptions.webpackMode;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (importOptions.webpackPrefetch !== undefined) {\n\t\t\t\t\tif (importOptions.webpackPrefetch === true) {\n\t\t\t\t\t\tgroupOptions.prefetchOrder = 0;\n\t\t\t\t\t} else if (typeof importOptions.webpackPrefetch === \"number\") {\n\t\t\t\t\t\tgroupOptions.prefetchOrder = importOptions.webpackPrefetch;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tparser.state.module.warnings.push(\n\t\t\t\t\t\t\tnew UnsupportedFeatureWarning(\n\t\t\t\t\t\t\t\tparser.state.module,\n\t\t\t\t\t\t\t\t`\\`webpackPrefetch\\` expected true or a number, but received: ${importOptions.webpackPrefetch}.`,\n\t\t\t\t\t\t\t\texpr.loc\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (importOptions.webpackPreload !== undefined) {\n\t\t\t\t\tif (importOptions.webpackPreload === true) {\n\t\t\t\t\t\tgroupOptions.preloadOrder = 0;\n\t\t\t\t\t} else if (typeof importOptions.webpackPreload === \"number\") {\n\t\t\t\t\t\tgroupOptions.preloadOrder = importOptions.webpackPreload;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tparser.state.module.warnings.push(\n\t\t\t\t\t\t\tnew UnsupportedFeatureWarning(\n\t\t\t\t\t\t\t\tparser.state.module,\n\t\t\t\t\t\t\t\t`\\`webpackPreload\\` expected true or a number, but received: ${importOptions.webpackPreload}.`,\n\t\t\t\t\t\t\t\texpr.loc\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (importOptions.webpackInclude !== undefined) {\n\t\t\t\t\tif (\n\t\t\t\t\t\t!importOptions.webpackInclude ||\n\t\t\t\t\t\timportOptions.webpackInclude.constructor.name !== \"RegExp\"\n\t\t\t\t\t) {\n\t\t\t\t\t\tparser.state.module.warnings.push(\n\t\t\t\t\t\t\tnew UnsupportedFeatureWarning(\n\t\t\t\t\t\t\t\tparser.state.module,\n\t\t\t\t\t\t\t\t`\\`webpackInclude\\` expected a regular expression, but received: ${importOptions.webpackInclude}.`,\n\t\t\t\t\t\t\t\texpr.loc\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tinclude = new RegExp(importOptions.webpackInclude);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (importOptions.webpackExclude !== undefined) {\n\t\t\t\t\tif (\n\t\t\t\t\t\t!importOptions.webpackExclude ||\n\t\t\t\t\t\timportOptions.webpackExclude.constructor.name !== \"RegExp\"\n\t\t\t\t\t) {\n\t\t\t\t\t\tparser.state.module.warnings.push(\n\t\t\t\t\t\t\tnew UnsupportedFeatureWarning(\n\t\t\t\t\t\t\t\tparser.state.module,\n\t\t\t\t\t\t\t\t`\\`webpackExclude\\` expected a regular expression, but received: ${importOptions.webpackExclude}.`,\n\t\t\t\t\t\t\t\texpr.loc\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t);\n\t\t\t\t\t} else {\n\t\t\t\t\t\texclude = new RegExp(importOptions.webpackExclude);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (param.isString()) {\n\t\t\t\tif (mode !== \"lazy\" && mode !== \"eager\" && mode !== \"weak\") {\n\t\t\t\t\tparser.state.module.warnings.push(\n\t\t\t\t\t\tnew UnsupportedFeatureWarning(\n\t\t\t\t\t\t\tparser.state.module,\n\t\t\t\t\t\t\t`\\`webpackMode\\` expected 'lazy', 'eager' or 'weak', but received: ${mode}.`,\n\t\t\t\t\t\t\texpr.loc\n\t\t\t\t\t\t)\n\t\t\t\t\t);\n\t\t\t\t}\n\n\t\t\t\tif (mode === \"eager\") {\n\t\t\t\t\tconst dep = new ImportEagerDependency(\n\t\t\t\t\t\tparam.string,\n\t\t\t\t\t\tparser.state.module,\n\t\t\t\t\t\texpr.range\n\t\t\t\t\t);\n\t\t\t\t\tparser.state.current.addDependency(dep);\n\t\t\t\t} else if (mode === \"weak\") {\n\t\t\t\t\tconst dep = new ImportWeakDependency(\n\t\t\t\t\t\tparam.string,\n\t\t\t\t\t\tparser.state.module,\n\t\t\t\t\t\texpr.range\n\t\t\t\t\t);\n\t\t\t\t\tparser.state.current.addDependency(dep);\n\t\t\t\t} else {\n\t\t\t\t\tconst depBlock = new ImportDependenciesBlock(\n\t\t\t\t\t\tparam.string,\n\t\t\t\t\t\texpr.range,\n\t\t\t\t\t\tObject.assign(groupOptions, {\n\t\t\t\t\t\t\tname: chunkName\n\t\t\t\t\t\t}),\n\t\t\t\t\t\tparser.state.module,\n\t\t\t\t\t\texpr.loc,\n\t\t\t\t\t\tparser.state.module\n\t\t\t\t\t);\n\t\t\t\t\tparser.state.current.addBlock(depBlock);\n\t\t\t\t}\n\t\t\t\treturn true;\n\t\t\t} else {\n\t\t\t\tif (\n\t\t\t\t\tmode !== \"lazy\" &&\n\t\t\t\t\tmode !== \"lazy-once\" &&\n\t\t\t\t\tmode !== \"eager\" &&\n\t\t\t\t\tmode !== \"weak\"\n\t\t\t\t) {\n\t\t\t\t\tparser.state.module.warnings.push(\n\t\t\t\t\t\tnew UnsupportedFeatureWarning(\n\t\t\t\t\t\t\tparser.state.module,\n\t\t\t\t\t\t\t`\\`webpackMode\\` expected 'lazy', 'lazy-once', 'eager' or 'weak', but received: ${mode}.`,\n\t\t\t\t\t\t\texpr.loc\n\t\t\t\t\t\t)\n\t\t\t\t\t);\n\t\t\t\t\tmode = \"lazy\";\n\t\t\t\t}\n\n\t\t\t\tif (mode === \"weak\") {\n\t\t\t\t\tmode = \"async-weak\";\n\t\t\t\t}\n\t\t\t\tconst dep = ContextDependencyHelpers.create(\n\t\t\t\t\tImportContextDependency,\n\t\t\t\t\texpr.range,\n\t\t\t\t\tparam,\n\t\t\t\t\texpr,\n\t\t\t\t\tthis.options,\n\t\t\t\t\t{\n\t\t\t\t\t\tchunkName,\n\t\t\t\t\t\tgroupOptions,\n\t\t\t\t\t\tinclude,\n\t\t\t\t\t\texclude,\n\t\t\t\t\t\tmode,\n\t\t\t\t\t\tnamespaceObject: parser.state.module.buildMeta.strictHarmonyModule\n\t\t\t\t\t\t\t? \"strict\"\n\t\t\t\t\t\t\t: true\n\t\t\t\t\t},\n\t\t\t\t\tparser\n\t\t\t\t);\n\t\t\t\tif (!dep) return;\n\t\t\t\tdep.loc = expr.loc;\n\t\t\t\tdep.optional = !!parser.scope.inTry;\n\t\t\t\tparser.state.current.addDependency(dep);\n\t\t\t\treturn true;\n\t\t\t}\n\t\t});\n\t}\n}\n\nmodule.exports = ImportParserPlugin;\n"]},"metadata":{},"sourceType":"script"}