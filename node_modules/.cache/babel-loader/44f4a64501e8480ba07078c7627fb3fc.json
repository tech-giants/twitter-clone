{"ast":null,"code":"/*\n\tMIT License http://www.opensource.org/licenses/mit-license.php\n\tAuthor Tobias Koppers @sokra\n*/\n\"use strict\";\n\nconst {\n  ConcatSource\n} = require(\"webpack-sources\");\n\nclass JsonpExportMainTemplatePlugin {\n  /**\n   * @param {string} name jsonp function name\n   */\n  constructor(name) {\n    this.name = name;\n  }\n\n  apply(compilation) {\n    const {\n      mainTemplate,\n      chunkTemplate\n    } = compilation;\n\n    const onRenderWithEntry = (source, chunk, hash) => {\n      const name = mainTemplate.getAssetPath(this.name || \"\", {\n        hash,\n        chunk\n      });\n      return new ConcatSource(`${name}(`, source, \");\");\n    };\n\n    for (const template of [mainTemplate, chunkTemplate]) {\n      template.hooks.renderWithEntry.tap(\"JsonpExportMainTemplatePlugin\", onRenderWithEntry);\n    }\n\n    mainTemplate.hooks.globalHashPaths.tap(\"JsonpExportMainTemplatePlugin\", paths => {\n      if (this.name) paths.push(this.name);\n      return paths;\n    });\n    mainTemplate.hooks.hash.tap(\"JsonpExportMainTemplatePlugin\", hash => {\n      hash.update(\"jsonp export\");\n      hash.update(`${this.name}`);\n    });\n  }\n\n}\n\nmodule.exports = JsonpExportMainTemplatePlugin;","map":{"version":3,"sources":["/Users/hamzakhan/Documents/twitter-react/twitter/node_modules/webpack/lib/web/JsonpExportMainTemplatePlugin.js"],"names":["ConcatSource","require","JsonpExportMainTemplatePlugin","constructor","name","apply","compilation","mainTemplate","chunkTemplate","onRenderWithEntry","source","chunk","hash","getAssetPath","template","hooks","renderWithEntry","tap","globalHashPaths","paths","push","update","module","exports"],"mappings":"AAAA;AACA;AACA;AACA;AACA;;AAEA,MAAM;AAAEA,EAAAA;AAAF,IAAmBC,OAAO,CAAC,iBAAD,CAAhC;;AAEA,MAAMC,6BAAN,CAAoC;AACnC;AACD;AACA;AACCC,EAAAA,WAAW,CAACC,IAAD,EAAO;AACjB,SAAKA,IAAL,GAAYA,IAAZ;AACA;;AAEDC,EAAAA,KAAK,CAACC,WAAD,EAAc;AAClB,UAAM;AAAEC,MAAAA,YAAF;AAAgBC,MAAAA;AAAhB,QAAkCF,WAAxC;;AAEA,UAAMG,iBAAiB,GAAG,CAACC,MAAD,EAASC,KAAT,EAAgBC,IAAhB,KAAyB;AAClD,YAAMR,IAAI,GAAGG,YAAY,CAACM,YAAb,CAA0B,KAAKT,IAAL,IAAa,EAAvC,EAA2C;AACvDQ,QAAAA,IADuD;AAEvDD,QAAAA;AAFuD,OAA3C,CAAb;AAIA,aAAO,IAAIX,YAAJ,CAAkB,GAAEI,IAAK,GAAzB,EAA6BM,MAA7B,EAAqC,IAArC,CAAP;AACA,KAND;;AAQA,SAAK,MAAMI,QAAX,IAAuB,CAACP,YAAD,EAAeC,aAAf,CAAvB,EAAsD;AACrDM,MAAAA,QAAQ,CAACC,KAAT,CAAeC,eAAf,CAA+BC,GAA/B,CACC,+BADD,EAECR,iBAFD;AAIA;;AAEDF,IAAAA,YAAY,CAACQ,KAAb,CAAmBG,eAAnB,CAAmCD,GAAnC,CACC,+BADD,EAECE,KAAK,IAAI;AACR,UAAI,KAAKf,IAAT,EAAee,KAAK,CAACC,IAAN,CAAW,KAAKhB,IAAhB;AACf,aAAOe,KAAP;AACA,KALF;AAQAZ,IAAAA,YAAY,CAACQ,KAAb,CAAmBH,IAAnB,CAAwBK,GAAxB,CAA4B,+BAA5B,EAA6DL,IAAI,IAAI;AACpEA,MAAAA,IAAI,CAACS,MAAL,CAAY,cAAZ;AACAT,MAAAA,IAAI,CAACS,MAAL,CAAa,GAAE,KAAKjB,IAAK,EAAzB;AACA,KAHD;AAIA;;AAtCkC;;AAyCpCkB,MAAM,CAACC,OAAP,GAAiBrB,6BAAjB","sourcesContent":["/*\n\tMIT License http://www.opensource.org/licenses/mit-license.php\n\tAuthor Tobias Koppers @sokra\n*/\n\"use strict\";\n\nconst { ConcatSource } = require(\"webpack-sources\");\n\nclass JsonpExportMainTemplatePlugin {\n\t/**\n\t * @param {string} name jsonp function name\n\t */\n\tconstructor(name) {\n\t\tthis.name = name;\n\t}\n\n\tapply(compilation) {\n\t\tconst { mainTemplate, chunkTemplate } = compilation;\n\n\t\tconst onRenderWithEntry = (source, chunk, hash) => {\n\t\t\tconst name = mainTemplate.getAssetPath(this.name || \"\", {\n\t\t\t\thash,\n\t\t\t\tchunk\n\t\t\t});\n\t\t\treturn new ConcatSource(`${name}(`, source, \");\");\n\t\t};\n\n\t\tfor (const template of [mainTemplate, chunkTemplate]) {\n\t\t\ttemplate.hooks.renderWithEntry.tap(\n\t\t\t\t\"JsonpExportMainTemplatePlugin\",\n\t\t\t\tonRenderWithEntry\n\t\t\t);\n\t\t}\n\n\t\tmainTemplate.hooks.globalHashPaths.tap(\n\t\t\t\"JsonpExportMainTemplatePlugin\",\n\t\t\tpaths => {\n\t\t\t\tif (this.name) paths.push(this.name);\n\t\t\t\treturn paths;\n\t\t\t}\n\t\t);\n\n\t\tmainTemplate.hooks.hash.tap(\"JsonpExportMainTemplatePlugin\", hash => {\n\t\t\thash.update(\"jsonp export\");\n\t\t\thash.update(`${this.name}`);\n\t\t});\n\t}\n}\n\nmodule.exports = JsonpExportMainTemplatePlugin;\n"]},"metadata":{},"sourceType":"script"}