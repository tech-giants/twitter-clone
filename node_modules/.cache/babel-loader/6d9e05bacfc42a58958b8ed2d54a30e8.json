{"ast":null,"code":"/*\n\tMIT License http://www.opensource.org/licenses/mit-license.php\n\tAuthor Tobias Koppers @sokra\n*/\n\"use strict\";\n\nconst Parser = require(\"./Parser\");\n\nconst Template = require(\"./Template\");\n\nconst {\n  ConcatSource\n} = require(\"webpack-sources\");\n\nconst JavascriptGenerator = require(\"./JavascriptGenerator\");\n\nconst createHash = require(\"./util/createHash\");\n\nclass JavascriptModulesPlugin {\n  apply(compiler) {\n    compiler.hooks.compilation.tap(\"JavascriptModulesPlugin\", (compilation, {\n      normalModuleFactory\n    }) => {\n      normalModuleFactory.hooks.createParser.for(\"javascript/auto\").tap(\"JavascriptModulesPlugin\", options => {\n        return new Parser(options, \"auto\");\n      });\n      normalModuleFactory.hooks.createParser.for(\"javascript/dynamic\").tap(\"JavascriptModulesPlugin\", options => {\n        return new Parser(options, \"script\");\n      });\n      normalModuleFactory.hooks.createParser.for(\"javascript/esm\").tap(\"JavascriptModulesPlugin\", options => {\n        return new Parser(options, \"module\");\n      });\n      normalModuleFactory.hooks.createGenerator.for(\"javascript/auto\").tap(\"JavascriptModulesPlugin\", () => {\n        return new JavascriptGenerator();\n      });\n      normalModuleFactory.hooks.createGenerator.for(\"javascript/dynamic\").tap(\"JavascriptModulesPlugin\", () => {\n        return new JavascriptGenerator();\n      });\n      normalModuleFactory.hooks.createGenerator.for(\"javascript/esm\").tap(\"JavascriptModulesPlugin\", () => {\n        return new JavascriptGenerator();\n      });\n      compilation.mainTemplate.hooks.renderManifest.tap(\"JavascriptModulesPlugin\", (result, options) => {\n        const chunk = options.chunk;\n        const hash = options.hash;\n        const fullHash = options.fullHash;\n        const outputOptions = options.outputOptions;\n        const moduleTemplates = options.moduleTemplates;\n        const dependencyTemplates = options.dependencyTemplates;\n        const filenameTemplate = chunk.filenameTemplate || outputOptions.filename;\n        const useChunkHash = compilation.mainTemplate.useChunkHash(chunk);\n        result.push({\n          render: () => compilation.mainTemplate.render(hash, chunk, moduleTemplates.javascript, dependencyTemplates),\n          filenameTemplate,\n          pathOptions: {\n            noChunkHash: !useChunkHash,\n            contentHashType: \"javascript\",\n            chunk\n          },\n          identifier: `chunk${chunk.id}`,\n          hash: useChunkHash ? chunk.hash : fullHash\n        });\n        return result;\n      });\n      compilation.mainTemplate.hooks.modules.tap(\"JavascriptModulesPlugin\", (source, chunk, hash, moduleTemplate, dependencyTemplates) => {\n        return Template.renderChunkModules(chunk, m => typeof m.source === \"function\", moduleTemplate, dependencyTemplates, \"/******/ \");\n      });\n      compilation.chunkTemplate.hooks.renderManifest.tap(\"JavascriptModulesPlugin\", (result, options) => {\n        const chunk = options.chunk;\n        const outputOptions = options.outputOptions;\n        const moduleTemplates = options.moduleTemplates;\n        const dependencyTemplates = options.dependencyTemplates;\n        const filenameTemplate = chunk.filenameTemplate || outputOptions.chunkFilename;\n        result.push({\n          render: () => this.renderJavascript(compilation.chunkTemplate, chunk, moduleTemplates.javascript, dependencyTemplates),\n          filenameTemplate,\n          pathOptions: {\n            chunk,\n            contentHashType: \"javascript\"\n          },\n          identifier: `chunk${chunk.id}`,\n          hash: chunk.hash\n        });\n        return result;\n      });\n      compilation.hooks.contentHash.tap(\"JavascriptModulesPlugin\", chunk => {\n        const outputOptions = compilation.outputOptions;\n        const {\n          hashSalt,\n          hashDigest,\n          hashDigestLength,\n          hashFunction\n        } = outputOptions;\n        const hash = createHash(hashFunction);\n        if (hashSalt) hash.update(hashSalt);\n        const template = chunk.hasRuntime() ? compilation.mainTemplate : compilation.chunkTemplate;\n        hash.update(`${chunk.id} `);\n        hash.update(chunk.ids ? chunk.ids.join(\",\") : \"\");\n        template.updateHashForChunk(hash, chunk, compilation.moduleTemplates.javascript, compilation.dependencyTemplates);\n\n        for (const m of chunk.modulesIterable) {\n          if (typeof m.source === \"function\") {\n            hash.update(m.hash);\n          }\n        }\n\n        const digest = hash.digest(hashDigest);\n        chunk.contentHash.javascript = digest.substr(0, hashDigestLength);\n      });\n    });\n  }\n\n  renderJavascript(chunkTemplate, chunk, moduleTemplate, dependencyTemplates) {\n    const moduleSources = Template.renderChunkModules(chunk, m => typeof m.source === \"function\", moduleTemplate, dependencyTemplates);\n    const core = chunkTemplate.hooks.modules.call(moduleSources, chunk, moduleTemplate, dependencyTemplates);\n    let source = chunkTemplate.hooks.render.call(core, chunk, moduleTemplate, dependencyTemplates);\n\n    if (chunk.hasEntryModule()) {\n      source = chunkTemplate.hooks.renderWithEntry.call(source, chunk);\n    }\n\n    chunk.rendered = true;\n    return new ConcatSource(source, \";\");\n  }\n\n}\n\nmodule.exports = JavascriptModulesPlugin;","map":{"version":3,"sources":["/Users/hamzakhan/Documents/twitter-react/twitter/node_modules/webpack/lib/JavascriptModulesPlugin.js"],"names":["Parser","require","Template","ConcatSource","JavascriptGenerator","createHash","JavascriptModulesPlugin","apply","compiler","hooks","compilation","tap","normalModuleFactory","createParser","for","options","createGenerator","mainTemplate","renderManifest","result","chunk","hash","fullHash","outputOptions","moduleTemplates","dependencyTemplates","filenameTemplate","filename","useChunkHash","push","render","javascript","pathOptions","noChunkHash","contentHashType","identifier","id","modules","source","moduleTemplate","renderChunkModules","m","chunkTemplate","chunkFilename","renderJavascript","contentHash","hashSalt","hashDigest","hashDigestLength","hashFunction","update","template","hasRuntime","ids","join","updateHashForChunk","modulesIterable","digest","substr","moduleSources","core","call","hasEntryModule","renderWithEntry","rendered","module","exports"],"mappings":"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","sourcesContent":["/*\n\tMIT License http://www.opensource.org/licenses/mit-license.php\n\tAuthor Tobias Koppers @sokra\n*/\n\"use strict\";\n\nconst Parser = require(\"./Parser\");\nconst Template = require(\"./Template\");\nconst { ConcatSource } = require(\"webpack-sources\");\nconst JavascriptGenerator = require(\"./JavascriptGenerator\");\nconst createHash = require(\"./util/createHash\");\n\nclass JavascriptModulesPlugin {\n\tapply(compiler) {\n\t\tcompiler.hooks.compilation.tap(\n\t\t\t\"JavascriptModulesPlugin\",\n\t\t\t(compilation, { normalModuleFactory }) => {\n\t\t\t\tnormalModuleFactory.hooks.createParser\n\t\t\t\t\t.for(\"javascript/auto\")\n\t\t\t\t\t.tap(\"JavascriptModulesPlugin\", options => {\n\t\t\t\t\t\treturn new Parser(options, \"auto\");\n\t\t\t\t\t});\n\t\t\t\tnormalModuleFactory.hooks.createParser\n\t\t\t\t\t.for(\"javascript/dynamic\")\n\t\t\t\t\t.tap(\"JavascriptModulesPlugin\", options => {\n\t\t\t\t\t\treturn new Parser(options, \"script\");\n\t\t\t\t\t});\n\t\t\t\tnormalModuleFactory.hooks.createParser\n\t\t\t\t\t.for(\"javascript/esm\")\n\t\t\t\t\t.tap(\"JavascriptModulesPlugin\", options => {\n\t\t\t\t\t\treturn new Parser(options, \"module\");\n\t\t\t\t\t});\n\t\t\t\tnormalModuleFactory.hooks.createGenerator\n\t\t\t\t\t.for(\"javascript/auto\")\n\t\t\t\t\t.tap(\"JavascriptModulesPlugin\", () => {\n\t\t\t\t\t\treturn new JavascriptGenerator();\n\t\t\t\t\t});\n\t\t\t\tnormalModuleFactory.hooks.createGenerator\n\t\t\t\t\t.for(\"javascript/dynamic\")\n\t\t\t\t\t.tap(\"JavascriptModulesPlugin\", () => {\n\t\t\t\t\t\treturn new JavascriptGenerator();\n\t\t\t\t\t});\n\t\t\t\tnormalModuleFactory.hooks.createGenerator\n\t\t\t\t\t.for(\"javascript/esm\")\n\t\t\t\t\t.tap(\"JavascriptModulesPlugin\", () => {\n\t\t\t\t\t\treturn new JavascriptGenerator();\n\t\t\t\t\t});\n\t\t\t\tcompilation.mainTemplate.hooks.renderManifest.tap(\n\t\t\t\t\t\"JavascriptModulesPlugin\",\n\t\t\t\t\t(result, options) => {\n\t\t\t\t\t\tconst chunk = options.chunk;\n\t\t\t\t\t\tconst hash = options.hash;\n\t\t\t\t\t\tconst fullHash = options.fullHash;\n\t\t\t\t\t\tconst outputOptions = options.outputOptions;\n\t\t\t\t\t\tconst moduleTemplates = options.moduleTemplates;\n\t\t\t\t\t\tconst dependencyTemplates = options.dependencyTemplates;\n\n\t\t\t\t\t\tconst filenameTemplate =\n\t\t\t\t\t\t\tchunk.filenameTemplate || outputOptions.filename;\n\n\t\t\t\t\t\tconst useChunkHash = compilation.mainTemplate.useChunkHash(chunk);\n\n\t\t\t\t\t\tresult.push({\n\t\t\t\t\t\t\trender: () =>\n\t\t\t\t\t\t\t\tcompilation.mainTemplate.render(\n\t\t\t\t\t\t\t\t\thash,\n\t\t\t\t\t\t\t\t\tchunk,\n\t\t\t\t\t\t\t\t\tmoduleTemplates.javascript,\n\t\t\t\t\t\t\t\t\tdependencyTemplates\n\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\tfilenameTemplate,\n\t\t\t\t\t\t\tpathOptions: {\n\t\t\t\t\t\t\t\tnoChunkHash: !useChunkHash,\n\t\t\t\t\t\t\t\tcontentHashType: \"javascript\",\n\t\t\t\t\t\t\t\tchunk\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tidentifier: `chunk${chunk.id}`,\n\t\t\t\t\t\t\thash: useChunkHash ? chunk.hash : fullHash\n\t\t\t\t\t\t});\n\t\t\t\t\t\treturn result;\n\t\t\t\t\t}\n\t\t\t\t);\n\t\t\t\tcompilation.mainTemplate.hooks.modules.tap(\n\t\t\t\t\t\"JavascriptModulesPlugin\",\n\t\t\t\t\t(source, chunk, hash, moduleTemplate, dependencyTemplates) => {\n\t\t\t\t\t\treturn Template.renderChunkModules(\n\t\t\t\t\t\t\tchunk,\n\t\t\t\t\t\t\tm => typeof m.source === \"function\",\n\t\t\t\t\t\t\tmoduleTemplate,\n\t\t\t\t\t\t\tdependencyTemplates,\n\t\t\t\t\t\t\t\"/******/ \"\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\t\t\t\t);\n\t\t\t\tcompilation.chunkTemplate.hooks.renderManifest.tap(\n\t\t\t\t\t\"JavascriptModulesPlugin\",\n\t\t\t\t\t(result, options) => {\n\t\t\t\t\t\tconst chunk = options.chunk;\n\t\t\t\t\t\tconst outputOptions = options.outputOptions;\n\t\t\t\t\t\tconst moduleTemplates = options.moduleTemplates;\n\t\t\t\t\t\tconst dependencyTemplates = options.dependencyTemplates;\n\t\t\t\t\t\tconst filenameTemplate =\n\t\t\t\t\t\t\tchunk.filenameTemplate || outputOptions.chunkFilename;\n\n\t\t\t\t\t\tresult.push({\n\t\t\t\t\t\t\trender: () =>\n\t\t\t\t\t\t\t\tthis.renderJavascript(\n\t\t\t\t\t\t\t\t\tcompilation.chunkTemplate,\n\t\t\t\t\t\t\t\t\tchunk,\n\t\t\t\t\t\t\t\t\tmoduleTemplates.javascript,\n\t\t\t\t\t\t\t\t\tdependencyTemplates\n\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\tfilenameTemplate,\n\t\t\t\t\t\t\tpathOptions: {\n\t\t\t\t\t\t\t\tchunk,\n\t\t\t\t\t\t\t\tcontentHashType: \"javascript\"\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tidentifier: `chunk${chunk.id}`,\n\t\t\t\t\t\t\thash: chunk.hash\n\t\t\t\t\t\t});\n\n\t\t\t\t\t\treturn result;\n\t\t\t\t\t}\n\t\t\t\t);\n\t\t\t\tcompilation.hooks.contentHash.tap(\"JavascriptModulesPlugin\", chunk => {\n\t\t\t\t\tconst outputOptions = compilation.outputOptions;\n\t\t\t\t\tconst {\n\t\t\t\t\t\thashSalt,\n\t\t\t\t\t\thashDigest,\n\t\t\t\t\t\thashDigestLength,\n\t\t\t\t\t\thashFunction\n\t\t\t\t\t} = outputOptions;\n\t\t\t\t\tconst hash = createHash(hashFunction);\n\t\t\t\t\tif (hashSalt) hash.update(hashSalt);\n\t\t\t\t\tconst template = chunk.hasRuntime()\n\t\t\t\t\t\t? compilation.mainTemplate\n\t\t\t\t\t\t: compilation.chunkTemplate;\n\t\t\t\t\thash.update(`${chunk.id} `);\n\t\t\t\t\thash.update(chunk.ids ? chunk.ids.join(\",\") : \"\");\n\t\t\t\t\ttemplate.updateHashForChunk(\n\t\t\t\t\t\thash,\n\t\t\t\t\t\tchunk,\n\t\t\t\t\t\tcompilation.moduleTemplates.javascript,\n\t\t\t\t\t\tcompilation.dependencyTemplates\n\t\t\t\t\t);\n\t\t\t\t\tfor (const m of chunk.modulesIterable) {\n\t\t\t\t\t\tif (typeof m.source === \"function\") {\n\t\t\t\t\t\t\thash.update(m.hash);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tconst digest = /** @type {string} */ (hash.digest(hashDigest));\n\t\t\t\t\tchunk.contentHash.javascript = digest.substr(0, hashDigestLength);\n\t\t\t\t});\n\t\t\t}\n\t\t);\n\t}\n\n\trenderJavascript(chunkTemplate, chunk, moduleTemplate, dependencyTemplates) {\n\t\tconst moduleSources = Template.renderChunkModules(\n\t\t\tchunk,\n\t\t\tm => typeof m.source === \"function\",\n\t\t\tmoduleTemplate,\n\t\t\tdependencyTemplates\n\t\t);\n\t\tconst core = chunkTemplate.hooks.modules.call(\n\t\t\tmoduleSources,\n\t\t\tchunk,\n\t\t\tmoduleTemplate,\n\t\t\tdependencyTemplates\n\t\t);\n\t\tlet source = chunkTemplate.hooks.render.call(\n\t\t\tcore,\n\t\t\tchunk,\n\t\t\tmoduleTemplate,\n\t\t\tdependencyTemplates\n\t\t);\n\t\tif (chunk.hasEntryModule()) {\n\t\t\tsource = chunkTemplate.hooks.renderWithEntry.call(source, chunk);\n\t\t}\n\t\tchunk.rendered = true;\n\t\treturn new ConcatSource(source, \";\");\n\t}\n}\n\nmodule.exports = JavascriptModulesPlugin;\n"]},"metadata":{},"sourceType":"script"}