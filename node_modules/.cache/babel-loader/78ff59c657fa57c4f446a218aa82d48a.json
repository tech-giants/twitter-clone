{"ast":null,"code":"/*\n\tMIT License http://www.opensource.org/licenses/mit-license.php\n\tAuthor Tobias Koppers @sokra\n*/\n\"use strict\";\n\nconst Template = require(\"../Template\");\n\nclass WebWorkerMainTemplatePlugin {\n  apply(mainTemplate) {\n    const needChunkOnDemandLoadingCode = chunk => {\n      for (const chunkGroup of chunk.groupsIterable) {\n        if (chunkGroup.getNumberOfChildren() > 0) return true;\n      }\n\n      return false;\n    };\n\n    mainTemplate.hooks.localVars.tap(\"WebWorkerMainTemplatePlugin\", (source, chunk) => {\n      if (needChunkOnDemandLoadingCode(chunk)) {\n        return Template.asString([source, \"\", \"// object to store loaded chunks\", '// \"1\" means \"already loaded\"', \"var installedChunks = {\", Template.indent(chunk.ids.map(id => `${JSON.stringify(id)}: 1`).join(\",\\n\")), \"};\"]);\n      }\n\n      return source;\n    });\n    mainTemplate.hooks.requireEnsure.tap(\"WebWorkerMainTemplatePlugin\", (_, chunk, hash) => {\n      const chunkFilename = mainTemplate.outputOptions.chunkFilename;\n      const chunkMaps = chunk.getChunkMaps();\n      return Template.asString([\"promises.push(Promise.resolve().then(function() {\", Template.indent(['// \"1\" is the signal for \"already loaded\"', \"if(!installedChunks[chunkId]) {\", Template.indent([\"importScripts(\" + \"__webpack_require__.p + \" + mainTemplate.getAssetPath(JSON.stringify(chunkFilename), {\n        hash: `\" + ${mainTemplate.renderCurrentHashCode(hash)} + \"`,\n        hashWithLength: length => `\" + ${mainTemplate.renderCurrentHashCode(hash, length)} + \"`,\n        chunk: {\n          id: '\" + chunkId + \"',\n          hash: `\" + ${JSON.stringify(chunkMaps.hash)}[chunkId] + \"`,\n\n          hashWithLength(length) {\n            const shortChunkHashMap = Object.create(null);\n\n            for (const chunkId of Object.keys(chunkMaps.hash)) {\n              if (typeof chunkMaps.hash[chunkId] === \"string\") {\n                shortChunkHashMap[chunkId] = chunkMaps.hash[chunkId].substr(0, length);\n              }\n            }\n\n            return `\" + ${JSON.stringify(shortChunkHashMap)}[chunkId] + \"`;\n          },\n\n          contentHash: {\n            javascript: `\" + ${JSON.stringify(chunkMaps.contentHash.javascript)}[chunkId] + \"`\n          },\n          contentHashWithLength: {\n            javascript: length => {\n              const shortContentHashMap = {};\n              const contentHash = chunkMaps.contentHash.javascript;\n\n              for (const chunkId of Object.keys(contentHash)) {\n                if (typeof contentHash[chunkId] === \"string\") {\n                  shortContentHashMap[chunkId] = contentHash[chunkId].substr(0, length);\n                }\n              }\n\n              return `\" + ${JSON.stringify(shortContentHashMap)}[chunkId] + \"`;\n            }\n          },\n          name: `\" + (${JSON.stringify(chunkMaps.name)}[chunkId]||chunkId) + \"`\n        },\n        contentHashType: \"javascript\"\n      }) + \");\"]), \"}\"]), \"}));\"]);\n    });\n    mainTemplate.hooks.bootstrap.tap(\"WebWorkerMainTemplatePlugin\", (source, chunk, hash) => {\n      if (needChunkOnDemandLoadingCode(chunk)) {\n        const chunkCallbackName = mainTemplate.outputOptions.chunkCallbackName;\n        const globalObject = mainTemplate.outputOptions.globalObject;\n        return Template.asString([source, `${globalObject}[${JSON.stringify(chunkCallbackName)}] = function webpackChunkCallback(chunkIds, moreModules) {`, Template.indent([\"for(var moduleId in moreModules) {\", Template.indent(mainTemplate.renderAddModule(hash, chunk, \"moduleId\", \"moreModules[moduleId]\")), \"}\", \"while(chunkIds.length)\", Template.indent(\"installedChunks[chunkIds.pop()] = 1;\")]), \"};\"]);\n      }\n\n      return source;\n    });\n    mainTemplate.hooks.hotBootstrap.tap(\"WebWorkerMainTemplatePlugin\", (source, chunk, hash) => {\n      const hotUpdateChunkFilename = mainTemplate.outputOptions.hotUpdateChunkFilename;\n      const hotUpdateMainFilename = mainTemplate.outputOptions.hotUpdateMainFilename;\n      const hotUpdateFunction = mainTemplate.outputOptions.hotUpdateFunction;\n      const globalObject = mainTemplate.outputOptions.globalObject;\n      const currentHotUpdateChunkFilename = mainTemplate.getAssetPath(JSON.stringify(hotUpdateChunkFilename), {\n        hash: `\" + ${mainTemplate.renderCurrentHashCode(hash)} + \"`,\n        hashWithLength: length => `\" + ${mainTemplate.renderCurrentHashCode(hash, length)} + \"`,\n        chunk: {\n          id: '\" + chunkId + \"'\n        }\n      });\n      const currentHotUpdateMainFilename = mainTemplate.getAssetPath(JSON.stringify(hotUpdateMainFilename), {\n        hash: `\" + ${mainTemplate.renderCurrentHashCode(hash)} + \"`,\n        hashWithLength: length => `\" + ${mainTemplate.renderCurrentHashCode(hash, length)} + \"`\n      });\n      return source + \"\\n\" + `var parentHotUpdateCallback = ${globalObject}[${JSON.stringify(hotUpdateFunction)}];\\n` + `${globalObject}[${JSON.stringify(hotUpdateFunction)}] = ` + Template.getFunctionContent(require(\"./WebWorkerMainTemplate.runtime\")).replace(/\\/\\/\\$semicolon/g, \";\").replace(/\\$require\\$/g, mainTemplate.requireFn).replace(/\\$hotMainFilename\\$/g, currentHotUpdateMainFilename).replace(/\\$hotChunkFilename\\$/g, currentHotUpdateChunkFilename).replace(/\\$hash\\$/g, JSON.stringify(hash));\n    });\n    mainTemplate.hooks.hash.tap(\"WebWorkerMainTemplatePlugin\", hash => {\n      hash.update(\"webworker\");\n      hash.update(\"4\");\n    });\n  }\n\n}\n\nmodule.exports = WebWorkerMainTemplatePlugin;","map":{"version":3,"sources":["/Users/hamzakhan/Documents/twitter-react/twitter/node_modules/webpack/lib/webworker/WebWorkerMainTemplatePlugin.js"],"names":["Template","require","WebWorkerMainTemplatePlugin","apply","mainTemplate","needChunkOnDemandLoadingCode","chunk","chunkGroup","groupsIterable","getNumberOfChildren","hooks","localVars","tap","source","asString","indent","ids","map","id","JSON","stringify","join","requireEnsure","_","hash","chunkFilename","outputOptions","chunkMaps","getChunkMaps","getAssetPath","renderCurrentHashCode","hashWithLength","length","shortChunkHashMap","Object","create","chunkId","keys","substr","contentHash","javascript","contentHashWithLength","shortContentHashMap","name","contentHashType","bootstrap","chunkCallbackName","globalObject","renderAddModule","hotBootstrap","hotUpdateChunkFilename","hotUpdateMainFilename","hotUpdateFunction","currentHotUpdateChunkFilename","currentHotUpdateMainFilename","getFunctionContent","replace","requireFn","update","module","exports"],"mappings":"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","sourcesContent":["/*\n\tMIT License http://www.opensource.org/licenses/mit-license.php\n\tAuthor Tobias Koppers @sokra\n*/\n\"use strict\";\n\nconst Template = require(\"../Template\");\n\nclass WebWorkerMainTemplatePlugin {\n\tapply(mainTemplate) {\n\t\tconst needChunkOnDemandLoadingCode = chunk => {\n\t\t\tfor (const chunkGroup of chunk.groupsIterable) {\n\t\t\t\tif (chunkGroup.getNumberOfChildren() > 0) return true;\n\t\t\t}\n\t\t\treturn false;\n\t\t};\n\t\tmainTemplate.hooks.localVars.tap(\n\t\t\t\"WebWorkerMainTemplatePlugin\",\n\t\t\t(source, chunk) => {\n\t\t\t\tif (needChunkOnDemandLoadingCode(chunk)) {\n\t\t\t\t\treturn Template.asString([\n\t\t\t\t\t\tsource,\n\t\t\t\t\t\t\"\",\n\t\t\t\t\t\t\"// object to store loaded chunks\",\n\t\t\t\t\t\t'// \"1\" means \"already loaded\"',\n\t\t\t\t\t\t\"var installedChunks = {\",\n\t\t\t\t\t\tTemplate.indent(\n\t\t\t\t\t\t\tchunk.ids.map(id => `${JSON.stringify(id)}: 1`).join(\",\\n\")\n\t\t\t\t\t\t),\n\t\t\t\t\t\t\"};\"\n\t\t\t\t\t]);\n\t\t\t\t}\n\t\t\t\treturn source;\n\t\t\t}\n\t\t);\n\t\tmainTemplate.hooks.requireEnsure.tap(\n\t\t\t\"WebWorkerMainTemplatePlugin\",\n\t\t\t(_, chunk, hash) => {\n\t\t\t\tconst chunkFilename = mainTemplate.outputOptions.chunkFilename;\n\t\t\t\tconst chunkMaps = chunk.getChunkMaps();\n\t\t\t\treturn Template.asString([\n\t\t\t\t\t\"promises.push(Promise.resolve().then(function() {\",\n\t\t\t\t\tTemplate.indent([\n\t\t\t\t\t\t'// \"1\" is the signal for \"already loaded\"',\n\t\t\t\t\t\t\"if(!installedChunks[chunkId]) {\",\n\t\t\t\t\t\tTemplate.indent([\n\t\t\t\t\t\t\t\"importScripts(\" +\n\t\t\t\t\t\t\t\t\"__webpack_require__.p + \" +\n\t\t\t\t\t\t\t\tmainTemplate.getAssetPath(JSON.stringify(chunkFilename), {\n\t\t\t\t\t\t\t\t\thash: `\" + ${mainTemplate.renderCurrentHashCode(hash)} + \"`,\n\t\t\t\t\t\t\t\t\thashWithLength: length =>\n\t\t\t\t\t\t\t\t\t\t`\" + ${mainTemplate.renderCurrentHashCode(\n\t\t\t\t\t\t\t\t\t\t\thash,\n\t\t\t\t\t\t\t\t\t\t\tlength\n\t\t\t\t\t\t\t\t\t\t)} + \"`,\n\t\t\t\t\t\t\t\t\tchunk: {\n\t\t\t\t\t\t\t\t\t\tid: '\" + chunkId + \"',\n\t\t\t\t\t\t\t\t\t\thash: `\" + ${JSON.stringify(chunkMaps.hash)}[chunkId] + \"`,\n\t\t\t\t\t\t\t\t\t\thashWithLength(length) {\n\t\t\t\t\t\t\t\t\t\t\tconst shortChunkHashMap = Object.create(null);\n\t\t\t\t\t\t\t\t\t\t\tfor (const chunkId of Object.keys(chunkMaps.hash)) {\n\t\t\t\t\t\t\t\t\t\t\t\tif (typeof chunkMaps.hash[chunkId] === \"string\") {\n\t\t\t\t\t\t\t\t\t\t\t\t\tshortChunkHashMap[chunkId] = chunkMaps.hash[\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tchunkId\n\t\t\t\t\t\t\t\t\t\t\t\t\t].substr(0, length);\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\treturn `\" + ${JSON.stringify(\n\t\t\t\t\t\t\t\t\t\t\t\tshortChunkHashMap\n\t\t\t\t\t\t\t\t\t\t\t)}[chunkId] + \"`;\n\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\tcontentHash: {\n\t\t\t\t\t\t\t\t\t\t\tjavascript: `\" + ${JSON.stringify(\n\t\t\t\t\t\t\t\t\t\t\t\tchunkMaps.contentHash.javascript\n\t\t\t\t\t\t\t\t\t\t\t)}[chunkId] + \"`\n\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\tcontentHashWithLength: {\n\t\t\t\t\t\t\t\t\t\t\tjavascript: length => {\n\t\t\t\t\t\t\t\t\t\t\t\tconst shortContentHashMap = {};\n\t\t\t\t\t\t\t\t\t\t\t\tconst contentHash = chunkMaps.contentHash.javascript;\n\t\t\t\t\t\t\t\t\t\t\t\tfor (const chunkId of Object.keys(contentHash)) {\n\t\t\t\t\t\t\t\t\t\t\t\t\tif (typeof contentHash[chunkId] === \"string\") {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tshortContentHashMap[chunkId] = contentHash[\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tchunkId\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t].substr(0, length);\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\treturn `\" + ${JSON.stringify(\n\t\t\t\t\t\t\t\t\t\t\t\t\tshortContentHashMap\n\t\t\t\t\t\t\t\t\t\t\t\t)}[chunkId] + \"`;\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\tname: `\" + (${JSON.stringify(\n\t\t\t\t\t\t\t\t\t\t\tchunkMaps.name\n\t\t\t\t\t\t\t\t\t\t)}[chunkId]||chunkId) + \"`\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\tcontentHashType: \"javascript\"\n\t\t\t\t\t\t\t\t}) +\n\t\t\t\t\t\t\t\t\");\"\n\t\t\t\t\t\t]),\n\t\t\t\t\t\t\"}\"\n\t\t\t\t\t]),\n\t\t\t\t\t\"}));\"\n\t\t\t\t]);\n\t\t\t}\n\t\t);\n\t\tmainTemplate.hooks.bootstrap.tap(\n\t\t\t\"WebWorkerMainTemplatePlugin\",\n\t\t\t(source, chunk, hash) => {\n\t\t\t\tif (needChunkOnDemandLoadingCode(chunk)) {\n\t\t\t\t\tconst chunkCallbackName =\n\t\t\t\t\t\tmainTemplate.outputOptions.chunkCallbackName;\n\t\t\t\t\tconst globalObject = mainTemplate.outputOptions.globalObject;\n\t\t\t\t\treturn Template.asString([\n\t\t\t\t\t\tsource,\n\t\t\t\t\t\t`${globalObject}[${JSON.stringify(\n\t\t\t\t\t\t\tchunkCallbackName\n\t\t\t\t\t\t)}] = function webpackChunkCallback(chunkIds, moreModules) {`,\n\t\t\t\t\t\tTemplate.indent([\n\t\t\t\t\t\t\t\"for(var moduleId in moreModules) {\",\n\t\t\t\t\t\t\tTemplate.indent(\n\t\t\t\t\t\t\t\tmainTemplate.renderAddModule(\n\t\t\t\t\t\t\t\t\thash,\n\t\t\t\t\t\t\t\t\tchunk,\n\t\t\t\t\t\t\t\t\t\"moduleId\",\n\t\t\t\t\t\t\t\t\t\"moreModules[moduleId]\"\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\"}\",\n\t\t\t\t\t\t\t\"while(chunkIds.length)\",\n\t\t\t\t\t\t\tTemplate.indent(\"installedChunks[chunkIds.pop()] = 1;\")\n\t\t\t\t\t\t]),\n\t\t\t\t\t\t\"};\"\n\t\t\t\t\t]);\n\t\t\t\t}\n\t\t\t\treturn source;\n\t\t\t}\n\t\t);\n\t\tmainTemplate.hooks.hotBootstrap.tap(\n\t\t\t\"WebWorkerMainTemplatePlugin\",\n\t\t\t(source, chunk, hash) => {\n\t\t\t\tconst hotUpdateChunkFilename =\n\t\t\t\t\tmainTemplate.outputOptions.hotUpdateChunkFilename;\n\t\t\t\tconst hotUpdateMainFilename =\n\t\t\t\t\tmainTemplate.outputOptions.hotUpdateMainFilename;\n\t\t\t\tconst hotUpdateFunction = mainTemplate.outputOptions.hotUpdateFunction;\n\t\t\t\tconst globalObject = mainTemplate.outputOptions.globalObject;\n\t\t\t\tconst currentHotUpdateChunkFilename = mainTemplate.getAssetPath(\n\t\t\t\t\tJSON.stringify(hotUpdateChunkFilename),\n\t\t\t\t\t{\n\t\t\t\t\t\thash: `\" + ${mainTemplate.renderCurrentHashCode(hash)} + \"`,\n\t\t\t\t\t\thashWithLength: length =>\n\t\t\t\t\t\t\t`\" + ${mainTemplate.renderCurrentHashCode(hash, length)} + \"`,\n\t\t\t\t\t\tchunk: {\n\t\t\t\t\t\t\tid: '\" + chunkId + \"'\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t);\n\t\t\t\tconst currentHotUpdateMainFilename = mainTemplate.getAssetPath(\n\t\t\t\t\tJSON.stringify(hotUpdateMainFilename),\n\t\t\t\t\t{\n\t\t\t\t\t\thash: `\" + ${mainTemplate.renderCurrentHashCode(hash)} + \"`,\n\t\t\t\t\t\thashWithLength: length =>\n\t\t\t\t\t\t\t`\" + ${mainTemplate.renderCurrentHashCode(hash, length)} + \"`\n\t\t\t\t\t}\n\t\t\t\t);\n\n\t\t\t\treturn (\n\t\t\t\t\tsource +\n\t\t\t\t\t\"\\n\" +\n\t\t\t\t\t`var parentHotUpdateCallback = ${globalObject}[${JSON.stringify(\n\t\t\t\t\t\thotUpdateFunction\n\t\t\t\t\t)}];\\n` +\n\t\t\t\t\t`${globalObject}[${JSON.stringify(hotUpdateFunction)}] = ` +\n\t\t\t\t\tTemplate.getFunctionContent(\n\t\t\t\t\t\trequire(\"./WebWorkerMainTemplate.runtime\")\n\t\t\t\t\t)\n\t\t\t\t\t\t.replace(/\\/\\/\\$semicolon/g, \";\")\n\t\t\t\t\t\t.replace(/\\$require\\$/g, mainTemplate.requireFn)\n\t\t\t\t\t\t.replace(/\\$hotMainFilename\\$/g, currentHotUpdateMainFilename)\n\t\t\t\t\t\t.replace(/\\$hotChunkFilename\\$/g, currentHotUpdateChunkFilename)\n\t\t\t\t\t\t.replace(/\\$hash\\$/g, JSON.stringify(hash))\n\t\t\t\t);\n\t\t\t}\n\t\t);\n\t\tmainTemplate.hooks.hash.tap(\"WebWorkerMainTemplatePlugin\", hash => {\n\t\t\thash.update(\"webworker\");\n\t\t\thash.update(\"4\");\n\t\t});\n\t}\n}\nmodule.exports = WebWorkerMainTemplatePlugin;\n"]},"metadata":{},"sourceType":"script"}